<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>PorcoMar Site | â¹ ä½¿ç”¨webpacké…ç½®MPA</title>
    <meta name="description" content="Settle ğŸ€DUO in a golden house~ğŸ‘º">
    <link rel="shortcut icon" type="image/x-icon" href="https://gitee.com/uploads/6/1023506_PorcoMar.png?1500276509&quot; rel=&quot;shortcut icon">
    <meta name="description" content="hello">
    <link rel="preload" href="/assets/css/10.styles.322416e2.css" as="style"><link rel="preload" href="/assets/js/app.1a1b49cb.js" as="script"><link rel="preload" href="/assets/js/1.56a7da20.js" as="script"><link rel="prefetch" href="/assets/js/5.64c07d37.js"><link rel="prefetch" href="/assets/js/0.c2df6edd.js"><link rel="prefetch" href="/assets/js/2.3b4709dc.js"><link rel="prefetch" href="/assets/js/3.6f040e9c.js"><link rel="prefetch" href="/assets/js/4.84736aa4.js"><link rel="prefetch" href="/assets/js/6.86381ce2.js"><link rel="prefetch" href="/assets/js/7.7bd9e25c.js"><link rel="prefetch" href="/assets/js/8.7c781e0a.js"><link rel="prefetch" href="/assets/js/9.396615f7.js">
    <link rel="stylesheet" href="/assets/css/10.styles.322416e2.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/" class="home-link router-link-active"><!----><span class="site-name">
      PorcoMar Site
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/catalog/study/" class="nav-link router-link-active">Study</a></div><div class="nav-item"><a href="http://www.porcofish.net:1314/" target="_blank" rel="noopener noreferrer" class="nav-link">About</a></div><div class="nav-item"><a href="https://gitee.com/PorcoMar" target="_blank" rel="noopener noreferrer" class="nav-link">Gitee</a></div><div class="nav-item"><a href="https://github.com/PorcoMar?tab=repositories" target="_blank" rel="noopener noreferrer" class="nav-link">Github</a></div><!----></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/catalog/study/" class="nav-link router-link-active">Study</a></div><div class="nav-item"><a href="http://www.porcofish.net:1314/" target="_blank" rel="noopener noreferrer" class="nav-link">About</a></div><div class="nav-item"><a href="https://gitee.com/PorcoMar" target="_blank" rel="noopener noreferrer" class="nav-link">Gitee</a></div><div class="nav-item"><a href="https://github.com/PorcoMar?tab=repositories" target="_blank" rel="noopener noreferrer" class="nav-link">Github</a></div><!----></nav><ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading open"><span>å¼€å‘ç¬”è®°</span><span class="arrow down"></span></p><ul class="sidebar-group-items"><li><a href="/catalog/study/" class="sidebar-link">â¹ studyç›®å½•è¯´æ˜</a></li><li><a href="/catalog/study/vuepressä½¿ç”¨è¯´æ˜.html" class="sidebar-link">â¹ vuePressä½¿ç”¨è¯´æ˜</a></li><li><a href="/catalog/study/å¾®ä¿¡æˆæƒå’ŒsdkåŠ å¯†ç®—æ³•.html" class="sidebar-link">â¹ å¾®ä¿¡æˆæƒå’ŒsdkåŠ å¯†ç®—æ³•</a></li><li><a href="/catalog/study/browserify+gulpè‡ªåŠ¨ç¼–è¯‘æ‰“åŒ….html" class="sidebar-link">â¹ browserify+gulpè‡ªåŠ¨ç¼–è¯‘æ‰“åŒ…</a></li><li><a href="/catalog/study/ä½¿ç”¨webpacké…ç½®MPA.html" class="active sidebar-link">â¹ ä½¿ç”¨webpacké…ç½®MPA</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/catalog/study/ä½¿ç”¨webpacké…ç½®MPA.html#å®‰è£…ä¾èµ–" class="sidebar-link">å®‰è£…ä¾èµ–</a></li><li class="sidebar-sub-header"><a href="/catalog/study/ä½¿ç”¨webpacké…ç½®MPA.html#é…ç½®æ–‡ä»¶åˆ’åˆ†" class="sidebar-link">é…ç½®æ–‡ä»¶åˆ’åˆ†</a></li><li class="sidebar-sub-header"><a href="/catalog/study/ä½¿ç”¨webpacké…ç½®MPA.html#é…ç½®å¤šé¡µåº”ç”¨çš„å…³é”®ç‚¹" class="sidebar-link">é…ç½®å¤šé¡µåº”ç”¨çš„å…³é”®ç‚¹</a></li><li class="sidebar-sub-header"><a href="/catalog/study/ä½¿ç”¨webpacké…ç½®MPA.html#è‡ªåŠ¨ç”Ÿæˆ-html-é¡µé¢" class="sidebar-link">è‡ªåŠ¨ç”Ÿæˆ HTML é¡µé¢</a></li><li class="sidebar-sub-header"><a href="/catalog/study/ä½¿ç”¨webpacké…ç½®MPA.html#html-webpack-plugin-æ’ä»¶çš„ä½¿ç”¨" class="sidebar-link">html-webpack-plugin æ’ä»¶çš„ä½¿ç”¨</a></li><li class="sidebar-sub-header"><a href="/catalog/study/ä½¿ç”¨webpacké…ç½®MPA.html#ç›®å½•åˆ’åˆ†" class="sidebar-link">ç›®å½•åˆ’åˆ†</a></li><li class="sidebar-sub-header"><a href="/catalog/study/ä½¿ç”¨webpacké…ç½®MPA.html#package-json" class="sidebar-link">package.json</a></li><li class="sidebar-sub-header"><a href="/catalog/study/ä½¿ç”¨webpacké…ç½®MPA.html#å¯ç”¨ç¯å¢ƒ" class="sidebar-link">å¯ç”¨ç¯å¢ƒ</a></li><li class="sidebar-sub-header"><a href="/catalog/study/ä½¿ç”¨webpacké…ç½®MPA.html#webpack-config-dev-js" class="sidebar-link">webpack.config.dev.js</a></li><li class="sidebar-sub-header"><a href="/catalog/study/ä½¿ç”¨webpacké…ç½®MPA.html#é…ç½®-eslintrc-js" class="sidebar-link">é…ç½® .eslintrc.js</a></li><li class="sidebar-sub-header"><a href="/catalog/study/ä½¿ç”¨webpacké…ç½®MPA.html#package-json-2" class="sidebar-link">package.json</a></li><li class="sidebar-sub-header"><a href="/catalog/study/ä½¿ç”¨webpacké…ç½®MPA.html#gitignore" class="sidebar-link">.gitignore</a></li><li class="sidebar-sub-header"><a href="/catalog/study/ä½¿ç”¨webpacké…ç½®MPA.html#eslintrc-js" class="sidebar-link">.eslintrc.js</a></li><li class="sidebar-sub-header"><a href="/catalog/study/ä½¿ç”¨webpacké…ç½®MPA.html#postcss-config-js" class="sidebar-link">postcss.config.js</a></li><li class="sidebar-sub-header"><a href="/catalog/study/ä½¿ç”¨webpacké…ç½®MPA.html#config-js" class="sidebar-link">config.js</a></li><li class="sidebar-sub-header"><a href="/catalog/study/ä½¿ç”¨webpacké…ç½®MPA.html#webpack-config-js" class="sidebar-link">webpack.config.js</a></li><li class="sidebar-sub-header"><a href="/catalog/study/ä½¿ç”¨webpacké…ç½®MPA.html#webpack-config-dev-js-2" class="sidebar-link">webpack.config.dev.js</a></li><li class="sidebar-sub-header"><a href="/catalog/study/ä½¿ç”¨webpacké…ç½®MPA.html#webpack-config-prod-js" class="sidebar-link">webpack.config.prod.js</a></li><li class="sidebar-sub-header"><a href="/catalog/study/ä½¿ç”¨webpacké…ç½®MPA.html#webpack-config-lint-js" class="sidebar-link">webpack.config.lint.js</a></li><li class="sidebar-sub-header"><a href="/catalog/study/ä½¿ç”¨webpacké…ç½®MPA.html#é¡¹ç›®ç»“æ„" class="sidebar-link">é¡¹ç›®ç»“æ„</a></li><li class="sidebar-sub-header"><a href="/catalog/study/ä½¿ç”¨webpacké…ç½®MPA.html#æ³¨é‡Šï¼š" class="sidebar-link">æ³¨é‡Šï¼š</a></li></ul></li><li><a href="/catalog/study/Markdownç¬”è®°.html" class="sidebar-link">â¹ Markdownç¬”è®°</a></li><li><a href="/catalog/study/WePYæ€»ç»“.html" class="sidebar-link">â¹ WePYæ€»ç»“</a></li></ul></div></li></ul></div><div class="page"><div class="content"><h1 id="ä½¿ç”¨webpacké…ç½®mpa"><a href="#ä½¿ç”¨webpacké…ç½®mpa" aria-hidden="true" class="header-anchor">#</a> ä½¿ç”¨webpacké…ç½®MPAğŸ’¯</h1><p>ä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨ webpack æ„å»ºå¤šé¡µåº”ç”¨å‘¢ï¼Ÿå› ä¸ºæŸäº›é¡¹ç›®ä½¿ç”¨ SPA ä¸å¤ªåˆé€‚ï¼ˆå¤§å¤šæ˜¯ SEO çš„åŸå› ï¼‰ï¼Œæˆ–è€…æ‚¨åœ¨åšé¡¹ç›®æ—¶æœ‰å…¶ä»–çš„éœ€æ±‚ã€‚
å¦‚æœä½ æœ‰å¦‚ä¸‹éœ€æ±‚ï¼š</p><div class="warning custom-block"><p class="custom-block-title">éœ€æ±‚</p><ul><li>ä½¿ç”¨ ES6 è¿›è¡Œå¼€å‘</li><li>æœŸæœ›ä½¿ç”¨é¢å‘å¯¹è±¡å¼€å‘ï¼ˆclassï¼‰</li><li>è‡ªåŠ¨å‹ç¼©åˆå¹¶ CSS å’Œ JS æ–‡ä»¶</li><li>ä½¿ç”¨ ESLint è¿›è¡Œä»£ç æ£€æŸ¥</li><li>è‡ªåŠ¨ç”Ÿæˆ HTML æ–‡ä»¶</li><li>è‡ªåŠ¨æŠ½å– CSS æ–‡ä»¶ ...</li></ul></div><p>æœ‰äº†è¿™äº›éœ€æ±‚ï¼ŒåŸºæœ¬ä¸Šå°±å¿…é¡»ä½¿ç”¨ <code>webpack</code> äº†ã€‚</p><h2 id="å®‰è£…ä¾èµ–"><a href="#å®‰è£…ä¾èµ–" aria-hidden="true" class="header-anchor">#</a> å®‰è£…ä¾èµ–</h2><p>é¦–å…ˆæ˜¯é¡¹ç›®ä¸­éœ€è¦ä½¿ç”¨çš„ä¾èµ–å®‰è£…ã€‚</p><ol><li>å®‰è£… webpack å’Œ webpack-dev-server</li></ol><pre class="language-js"><code>npm install webpack webpack<span class="token operator">-</span>dev<span class="token operator">-</span>server <span class="token operator">--</span>save<span class="token operator">-</span>dev
</code></pre><ol start="2"><li>å®‰è£… webpack-merge</li></ol><pre class="language-js"><code>npm install webpack<span class="token operator">-</span>merge <span class="token operator">--</span>save<span class="token operator">-</span>dev
</code></pre><p>è¯¥æ’ä»¶ç”¨æ¥å¯¹ webpack é…ç½®è¿›è¡Œåˆå¹¶æ“ä½œã€‚</p><ol start="3"><li>å®‰è£… babel ç›¸å…³æ’ä»¶</li></ol><pre class="language-js"><code>npm install babel<span class="token operator">-</span>core babel<span class="token operator">-</span>loader babel<span class="token operator">-</span>preset<span class="token operator">-</span>env <span class="token operator">--</span>save<span class="token operator">-</span>dev
</code></pre><p>è¿™ç³»åˆ—æ’ä»¶ç”¨æ¥å¯¹ ES6 è¯­æ³•è¿›è¡Œè½¬æ¢ã€‚</p><ol start="4"><li>å®‰è£…æ ·å¼å¤„ç†ç›¸å…³æ’ä»¶</li></ol><pre class="language-js"><code>npm install css<span class="token operator">-</span>loader style<span class="token operator">-</span>loader postcss<span class="token operator">-</span>loader autoprefixer <span class="token operator">--</span>save<span class="token operator">-</span>dev
</code></pre><p>è¿™ç³»åˆ—æ’ä»¶ç”¨æ¥å¤„ç† CSS æ ·å¼ï¼Œå…¶ä¸­ autoprefixer æ˜¯ postcss çš„ä¸€ä¸ªæ’ä»¶ï¼Œç”¨æ¥è‡ªåŠ¨ç»™ CSS æ ·å¼æ·»åŠ å‰ç¼€ã€‚</p><ol start="5"><li>å®‰è£… file-loader</li></ol><p>è¯¥æ’ä»¶å°†åœ¨å¯¼å…¥å›¾ç‰‡ã€å­—ä½“ç­‰æ–‡ä»¶æ—¶å‘æŒ¥ä½œç”¨ã€‚PS.æ‚¨ä¹Ÿå¯ä»¥å®‰è£… url-loader ä»¥å®ç°ç›¸åŒçš„ä½œç”¨ï¼š</p><pre class="language-js"><code>npm install file<span class="token operator">-</span>loader <span class="token operator">--</span>save<span class="token operator">-</span>dev
npm install url<span class="token operator">-</span>loader <span class="token operator">--</span>save<span class="token operator">-</span>dev
</code></pre><ol start="6"><li>å®‰è£… ESLint ç›¸å…³çš„æ’ä»¶</li></ol><pre class="language-js"><code>npm install eslint eslint<span class="token operator">-</span>loader <span class="token operator">--</span>save<span class="token operator">-</span>dev
</code></pre><p>è¿™äº›æ’ä»¶ç”¨æ¥å¯¹ JavaScript ä»£ç è¿›è¡Œæ£€æŸ¥ã€‚</p><ol start="7"><li>å®‰è£… html-webpack-plugin æ’ä»¶</li></ol><pre class="language-js"><code>npm install html<span class="token operator">-</span>webpack<span class="token operator">-</span>plugin <span class="token operator">--</span>save<span class="token operator">-</span>dev
</code></pre><p>è¯¥æ’ä»¶ç”¨æ¥è‡ªåŠ¨ç”Ÿæˆ HTML æ–‡ä»¶ã€‚</p><ol start="8"><li>å®‰è£… extract-text-webpack-plugin æ’ä»¶</li></ol><pre class="language-js"><code>npm install extract<span class="token operator">-</span>text<span class="token operator">-</span>webpack<span class="token operator">-</span>plugin <span class="token operator">--</span>save<span class="token operator">-</span>dev
</code></pre><p>è¯¥æ’ä»¶ç”¨æ¥å°† CSS æŠ½å–åˆ°ç‹¬ç«‹çš„æ–‡ä»¶ã€‚</p><ol start="9"><li>å®‰è£… clean-webpack-plugin æ’ä»¶</li></ol><pre class="language-js"><code>npm install clean<span class="token operator">-</span>webpack<span class="token operator">-</span>plugin <span class="token operator">--</span>save<span class="token operator">-</span>dev
</code></pre><p>è¯¥æ’ä»¶ç”¨æ¥å¯¹ dist æ–‡ä»¶å¤¹è¿›è¡Œæ¸…ç†å·¥ä½œï¼Œæ¯æ¬¡æ‰“åŒ…æ—¶å…ˆæ¸…ç†ä¹‹å‰çš„ dist æ–‡ä»¶å¤¹ã€‚</p><h4 id="ä¸‹é¢æ˜¯è¿™äº›å®‰è£…äº†çš„æ‰€æœ‰ä¾èµ–ï¼š"><a href="#ä¸‹é¢æ˜¯è¿™äº›å®‰è£…äº†çš„æ‰€æœ‰ä¾èµ–ï¼š" aria-hidden="true" class="header-anchor">#</a> ä¸‹é¢æ˜¯è¿™äº›å®‰è£…äº†çš„æ‰€æœ‰ä¾èµ–ï¼š</h4><pre class="language-js"><code><span class="token operator">...</span>
  <span class="token string">&quot;devDependencies&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;autoprefixer&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^7.1.3&quot;</span><span class="token punctuation">,</span>
<span class="highlighted-line">    <span class="token string">&quot;babel-core&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^6.26.0&quot;</span><span class="token punctuation">,</span></span>    <span class="token string">&quot;babel-loader&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^7.1.2&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;babel-preset-env&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^1.6.0&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;clean-webpack-plugin&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^0.1.16&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^0.28.7&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;eslint&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^4.6.1&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;eslint-loader&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^1.9.0&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;extract-text-webpack-plugin&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^3.0.0&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;file-loader&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^0.11.2&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;html-webpack-plugin&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^2.30.1&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;postcss-loader&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^2.0.6&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;style-loader&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^0.18.2&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;url-loader&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^0.5.9&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;webpack&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^3.5.5&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;webpack-dev-server&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^2.7.1&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;webpack-merge&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^4.1.0&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token operator">...</span>
</code></pre><h2 id="é…ç½®æ–‡ä»¶åˆ’åˆ†"><a href="#é…ç½®æ–‡ä»¶åˆ’åˆ†" aria-hidden="true" class="header-anchor">#</a> é…ç½®æ–‡ä»¶åˆ’åˆ†</h2><p>ä½¿ç”¨ webpack è¿›è¡Œé¡¹ç›®æ„å»ºæ—¶ï¼Œæˆ‘ä»¬æœ‰ä¸åŒçš„ç›®çš„ï¼Œå› æ­¤æœ€å¥½å°†é…ç½®æ–‡ä»¶è¿›è¡Œæ‹†åˆ†ï¼Œä»¥é€‚åº”ä¸åŒçš„å·¥ä½œï¼š</p><pre class="language-js"><code>â”œâ”€config
â”‚      config<span class="token punctuation">.</span>js
â”‚      webpack<span class="token punctuation">.</span>config<span class="token punctuation">.</span>base<span class="token punctuation">.</span>js
<span class="highlighted-line">â”‚      webpack<span class="token punctuation">.</span>config<span class="token punctuation">.</span>dev<span class="token punctuation">.</span>js</span>â”‚      webpack<span class="token punctuation">.</span>config<span class="token punctuation">.</span>lint<span class="token punctuation">.</span>js
â”‚      webpack<span class="token punctuation">.</span>config<span class="token punctuation">.</span>prod<span class="token punctuation">.</span>js
â”‚  webpack<span class="token punctuation">.</span>config<span class="token punctuation">.</span>js
</code></pre><h4 id="ä¸‹é¢æ˜¯ä¸€äº›é…ç½®çš„è¯´æ˜ï¼š"><a href="#ä¸‹é¢æ˜¯ä¸€äº›é…ç½®çš„è¯´æ˜ï¼š" aria-hidden="true" class="header-anchor">#</a> ä¸‹é¢æ˜¯ä¸€äº›é…ç½®çš„è¯´æ˜ï¼š</h4><pre class="language-js"><code>config<span class="token punctuation">.</span>jsï¼šä¸€äº›å…¨å±€çš„é…ç½®ï¼Œæ¯”å¦‚ <span class="token constant">HTML</span> æ–‡ä»¶çš„è·¯å¾„ã€publicPath ç­‰
webpack<span class="token punctuation">.</span>config<span class="token punctuation">.</span>base<span class="token punctuation">.</span>jsï¼šæœ€åŸºç¡€çš„é…ç½®æ–‡ä»¶
webpack<span class="token punctuation">.</span>config<span class="token punctuation">.</span>dev<span class="token punctuation">.</span>jsï¼šå¼€å‘ç¯å¢ƒé…ç½®æ–‡ä»¶
<span class="highlighted-line">webpack<span class="token punctuation">.</span>config<span class="token punctuation">.</span>lint<span class="token punctuation">.</span>jsï¼šä½¿ç”¨ ESLint ä»£ç æ£€æŸ¥æ—¶çš„é…ç½®æ–‡ä»¶</span>webpack<span class="token punctuation">.</span>config<span class="token punctuation">.</span>prod<span class="token punctuation">.</span>jsï¼šç”Ÿäº§ç¯å¢ƒé…ç½®æ–‡ä»¶
webpack<span class="token punctuation">.</span>config<span class="token punctuation">.</span>jsï¼šä¸»é…ç½®æ–‡ä»¶ï¼Œæ ¹æ®ç¯å¢ƒå˜é‡å¼•ç”¨ç›¸åº”çš„ç¯å¢ƒçš„é…ç½®
</code></pre><p>è¿™äº›é…ç½®æ–‡ä»¶ä¹‹é—´æ˜¯é€šè¿‡ webpack-merge è¿™ä¸ªæ’ä»¶è¿›è¡Œåˆå¹¶çš„ã€‚</p><h2 id="é…ç½®å¤šé¡µåº”ç”¨çš„å…³é”®ç‚¹"><a href="#é…ç½®å¤šé¡µåº”ç”¨çš„å…³é”®ç‚¹" aria-hidden="true" class="header-anchor">#</a> é…ç½®å¤šé¡µåº”ç”¨çš„å…³é”®ç‚¹</h2><p>å¦‚ä½•ä½¿ç”¨ webpack é…ç½®å¤šé¡µé¢åº”ç”¨å‘¢ï¼Ÿå®ç°å¤šé¡µé¢åº”ç”¨çš„å…³é”®ç‚¹åœ¨å“ªé‡Œå‘¢ï¼Ÿé¦–å…ˆéœ€è¦ç®€å•çœ‹ä¸€ä¸‹å¤šé¡µåº”ç”¨å’Œå•é¡µåº”ç”¨åŠŸèƒ½çš„åŒºåˆ«ã€‚</p><h4 id="å•é¡µåº”ç”¨çš„ç‰¹ç‚¹ï¼š"><a href="#å•é¡µåº”ç”¨çš„ç‰¹ç‚¹ï¼š" aria-hidden="true" class="header-anchor">#</a> å•é¡µåº”ç”¨çš„ç‰¹ç‚¹ï¼š</h4><p>åªæœ‰ä¸€ä¸ªå…¥å£é¡µé¢ï¼ˆindex.htmlï¼‰
è¿™ä¸ªå•é¡µé¡µé¢ï¼ˆindex.htmlï¼‰ä¸­éœ€è¦å¼•å…¥æ‰“åŒ…åçš„æ‰€æœ‰ JavaScript æ–‡ä»¶
æ‰€æœ‰çš„é¡µé¢å†…å®¹å®Œå…¨ç”± JavaScript ç”Ÿæˆ
å•é¡µåº”ç”¨æœ‰è‡ªå·±çš„è·¯ç”±ç³»ç»Ÿï¼ŒæœåŠ¡å™¨ç«¯æ²¡æœ‰å’Œè·¯ç”±å¯¹åº”çš„æ–‡ä»¶
Â·Â·Â·</p><h4 id="å¤šé¡µåº”ç”¨çš„ç‰¹ç‚¹ï¼š"><a href="#å¤šé¡µåº”ç”¨çš„ç‰¹ç‚¹ï¼š" aria-hidden="true" class="header-anchor">#</a> å¤šé¡µåº”ç”¨çš„ç‰¹ç‚¹ï¼š</h4><p>æ¯ä¸ªç‰ˆå—å¯¹åº”ä¸€ä¸ªé¡µé¢
æ¯ä¸ªé¡µé¢éœ€è¦å¯¹å…¬å…±çš„ JavaScript è¿›è¡Œå¼•å…¥
æ¯ä¸ªé¡µé¢è¿˜éœ€è¦å¼•å…¥å’Œå…¶è‡ªèº«å¯¹åº”çš„ JavaScript æ–‡ä»¶
ç”±äºå¯¹åº”äº†å¤šä¸ªé¡µé¢ï¼Œå› æ­¤ä¸æ˜¯æ‰€æœ‰é¡µé¢å†…å®¹éƒ½æ˜¯ç”± JavaScript ç”Ÿæˆçš„
æ²¡æœ‰è‡ªå·±çš„è·¯ç”±ç³»ç»Ÿï¼ŒæœåŠ¡å™¨ç«¯æœ‰å¯¹åº”çš„é™æ€æ–‡ä»¶
Â·Â·Â·
æŠ›å¼€ç”Ÿæˆé¡µé¢å†…å®¹å’Œè·¯ç”±ç³»ç»Ÿï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å•é¡µåº”ç”¨å’Œå¤šé¡µåº”ç”¨æœ€å¤§çš„åŒºåˆ«å°±æ˜¯ï¼š</p><p>å•é¡µåº”ç”¨éœ€è¦åœ¨å…¥å£é¡µé¢å¼•å…¥æ‰€æœ‰çš„ JavaScript æ–‡ä»¶
å¤šé¡µåº”ç”¨éœ€è¦åœ¨æ¯ä¸ªé¡µé¢ä¸­å¼•å…¥å…¬å…±çš„ JavaScript æ–‡ä»¶ä»¥åŠå…¶è‡ªèº«çš„ JavaScript æ–‡ä»¶
ç”±äº CSS æ–‡ä»¶æ˜¯å¯ä»¥ç”± extract-text-webpack-plugin è¿™ä¸ªæ’ä»¶è‡ªåŠ¨æå–å¹¶æ’å…¥åˆ° HTML é¡µé¢çš„ï¼Œå› æ­¤æˆ‘ä»¬åªéœ€è¦å…³å¿ƒå¦‚ä½•åœ¨ HTML é¡µé¢ä¸­å¼•å…¥ JavaScript æ–‡ä»¶äº†ã€‚
webpack åœ¨æ‰“åŒ…æ—¶ï¼Œä¼šå°†å…¥å£æ–‡ä»¶ä¸­çš„ JavaScript æ–‡ä»¶æ‰“åŒ…åˆ°æŸä¸ªç›®æ ‡æ–‡ä»¶ä¸­ï¼Œåœ¨ä¸è€ƒè™‘ä»£ç åˆ†å‰²æå–çš„æƒ…å†µä¸‹ï¼Œä¸€ä¸ªå…¥å£æ–‡ä»¶ä¼šæ‰“åŒ…ä¸ºä¸€ä¸ªç›®æ ‡æ–‡ä»¶ï¼Œå¤šä¸ªå…¥å£æ–‡ä»¶ä¼šæ‰“åŒ…ä¸ºå¤šä¸ªå¯¹åº”çš„ç›®æ ‡æ–‡ä»¶ã€‚
å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ¯ä¸ªå¤šé¡µé¡µé¢ä¸­çš„ç‰¹æœ‰çš„ JavaScript æ–‡ä»¶ä½œä¸ºå…¥å£æ–‡ä»¶ï¼Œåœ¨æ‰“åŒ…æ—¶å°†å¯¹åº”æ‰“åŒ…æˆä¸åŒçš„ bundle æ–‡ä»¶ï¼ˆç»“æœæ–‡ä»¶ï¼‰ï¼Œå¦‚æœä½ æƒ³è¦çš„è¯ï¼Œè¿˜å¯ä»¥åœ¨æ‰“åŒ…æ—¶è¿›è¡Œä»£ç åˆ†å‰²å¤„ç†ï¼Œå°†å…¬ç”¨ä»£ç æŠ½å–æˆä¸€ä¸ªæ–‡ä»¶ï¼Œç„¶ååœ¨ HTML ä¸­å¼•å…¥è¿™äº› JavaScript æ–‡ä»¶å°±å¥½äº†ã€‚
æ€»ç»“ä¸€ä¸‹ï¼Œä½¿ç”¨ webpack é…ç½®å¤šé¡µåº”ç”¨çš„å…³é”®ç‚¹åœ¨äºï¼š</p><p>å°†æ¯ä¸ªé¡µé¢ä¸­ç‰¹æœ‰çš„ JavaScript æ–‡ä»¶ä½œä¸ºå…¥å£æ–‡ä»¶è¿›è¡Œæ‰“åŒ…
åœ¨æ‰“åŒ…åï¼Œæ¯ä¸ªé¡µé¢ä¸­éƒ½éœ€è¦å¼•å…¥è¿™äº›æ‰“åŒ…åçš„æ–‡ä»¶
æ‚¨å¯ä»¥åœ¨æ‰“åŒ…æ—¶è¿›è¡Œå…¬ç”¨ä»£ç æå–ï¼Œç„¶ååœ¨ HTML æ–‡ä»¶ä¸­å¼•å…¥
è¯´äº†è¿™ä¹ˆå¤šï¼Œå…¶å®å°±æ˜¯åˆ©ç”¨äº† webpack å¤šå…¥å£æ–‡ä»¶è¿›è¡Œæ‰“åŒ…ã€‚</p><h2 id="è‡ªåŠ¨ç”Ÿæˆ-html-é¡µé¢"><a href="#è‡ªåŠ¨ç”Ÿæˆ-html-é¡µé¢" aria-hidden="true" class="header-anchor">#</a> è‡ªåŠ¨ç”Ÿæˆ HTML é¡µé¢</h2><p>åœ¨ä½¿ç”¨ webpack å¯¹ JavaScript æ–‡ä»¶è¿›è¡Œæ‰“åŒ…æ—¶ï¼Œé€šå¸¸éœ€è¦åœ¨æ‰“åŒ…çš„æ–‡ä»¶åä¸­åŠ ä¸€ä¸ª hash å­—ç¬¦ä¸²ç”¨æ¥é˜²æ­¢ç¼“å­˜ï¼Œå½“æˆ‘ä»¬ä¿®æ”¹äº† JavaScript ä»£ç åï¼Œæ‰“åŒ…åçš„æ–‡ä»¶åä¹Ÿä¼šå‘ç”Ÿå˜åŒ–ã€‚æ­¤æ—¶å¦‚æœæ‰‹åŠ¨åœ¨ HTML ä¸­å¼•ç”¨è¿™äº› JavaScript æ–‡ä»¶ï¼Œæ˜¯éå¸¸éº»çƒ¦çš„ã€‚
å› æ­¤ï¼Œæˆ‘ä»¬æœŸæœ›èƒ½è‡ªåŠ¨ç”Ÿæˆ HTML æ–‡ä»¶ï¼Œå¹¶è‡ªåŠ¨å¼•ç”¨æ‰“åŒ…åçš„ JavaScript æ–‡ä»¶ã€‚æ‰€è°“è‡ªåŠ¨ç”Ÿæˆ HTML æ–‡ä»¶ï¼Œå¯ä»¥ç†è§£ä¸ºå°†æºä»£ç çš„ HTML å¤åˆ¶åˆ°ç›®æ ‡æ–‡ä»¶å¤¹ä¸­ï¼ŒåŒæ—¶è‡ªåŠ¨å¼•ç”¨æ‰“åŒ…åçš„ JavaScript æ–‡ä»¶ã€‚
è¦å®Œæˆè¿™é¡¹æ“ä½œï¼Œå°±éœ€è¦ä½¿ç”¨å‰é¢å®‰è£…çš„ html-webpack-plugin è¿™ä¸ªæ’ä»¶ã€‚</p><h2 id="html-webpack-plugin-æ’ä»¶çš„ä½¿ç”¨"><a href="#html-webpack-plugin-æ’ä»¶çš„ä½¿ç”¨" aria-hidden="true" class="header-anchor">#</a> html-webpack-plugin æ’ä»¶çš„ä½¿ç”¨</h2><p>é¦–å…ˆï¼Œåœ¨æˆ‘çš„é¡¹ç›®ä¸­ï¼Œæœ‰è¿™ä¹ˆä¸€äº› HTML é¡µé¢ï¼Œå°†å®ƒä»¬æ”¾åœ¨ html æ–‡ä»¶å¤¹ä¸­ï¼š</p><pre class="language-js"><code>Mode                LastWriteTime         Length Name
<span class="token operator">--</span><span class="token operator">--</span>                <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>         <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span> <span class="token operator">--</span><span class="token operator">--</span>
<span class="token operator">-</span>a<span class="token operator">--</span><span class="token operator">--</span>         <span class="token number">2017</span><span class="token operator">/</span><span class="token number">9</span><span class="token operator">/</span><span class="token number">5</span>     <span class="token number">18</span><span class="token punctuation">:</span><span class="token number">04</span>           <span class="token number">1071</span> company_intro<span class="token punctuation">.</span>html
<span class="highlighted-line"><span class="token operator">-</span>a<span class="token operator">--</span><span class="token operator">--</span>         <span class="token number">2017</span><span class="token operator">/</span><span class="token number">9</span><span class="token operator">/</span><span class="token number">5</span>     <span class="token number">18</span><span class="token punctuation">:</span><span class="token number">04</span>            <span class="token number">988</span> contact_us<span class="token punctuation">.</span>html</span><span class="token operator">-</span>a<span class="token operator">--</span><span class="token operator">--</span>         <span class="token number">2017</span><span class="token operator">/</span><span class="token number">9</span><span class="token operator">/</span><span class="token number">5</span>     <span class="token number">18</span><span class="token punctuation">:</span><span class="token number">04</span>           <span class="token number">1131</span> cooperate<span class="token punctuation">.</span>html
<span class="token operator">-</span>a<span class="token operator">--</span><span class="token operator">--</span>         <span class="token number">2017</span><span class="token operator">/</span><span class="token number">9</span><span class="token operator">/</span><span class="token number">5</span>     <span class="token number">18</span><span class="token punctuation">:</span><span class="token number">04</span>           <span class="token number">1244</span> enterprise_culture<span class="token punctuation">.</span>html
<span class="token operator">-</span>a<span class="token operator">--</span><span class="token operator">--</span>         <span class="token number">2017</span><span class="token operator">/</span><span class="token number">9</span><span class="token operator">/</span><span class="token number">5</span>     <span class="token number">18</span><span class="token punctuation">:</span><span class="token number">04</span>           <span class="token number">1011</span> hornors<span class="token punctuation">.</span>html
<span class="token operator">-</span>a<span class="token operator">--</span><span class="token operator">--</span>         <span class="token number">2017</span><span class="token operator">/</span><span class="token number">9</span><span class="token operator">/</span><span class="token number">5</span>     <span class="token number">18</span><span class="token punctuation">:</span><span class="token number">04</span>           <span class="token number">1365</span> index<span class="token punctuation">.</span>html
<span class="token operator">-</span>a<span class="token operator">--</span><span class="token operator">--</span>         <span class="token number">2017</span><span class="token operator">/</span><span class="token number">9</span><span class="token operator">/</span><span class="token number">5</span>     <span class="token number">18</span><span class="token punctuation">:</span><span class="token number">04</span>           <span class="token number">1769</span> investment<span class="token punctuation">.</span>html
<span class="token operator">-</span>a<span class="token operator">--</span><span class="token operator">--</span>         <span class="token number">2017</span><span class="token operator">/</span><span class="token number">9</span><span class="token operator">/</span><span class="token number">5</span>     <span class="token number">18</span><span class="token punctuation">:</span><span class="token number">04</span>           <span class="token number">1005</span> join_us<span class="token punctuation">.</span>html
<span class="token operator">-</span>a<span class="token operator">--</span><span class="token operator">--</span>         <span class="token number">2017</span><span class="token operator">/</span><span class="token number">9</span><span class="token operator">/</span><span class="token number">5</span>     <span class="token number">18</span><span class="token punctuation">:</span><span class="token number">04</span>           <span class="token number">1037</span> news_center<span class="token punctuation">.</span>html
<span class="token operator">-</span>a<span class="token operator">--</span><span class="token operator">--</span>         <span class="token number">2017</span><span class="token operator">/</span><span class="token number">9</span><span class="token operator">/</span><span class="token number">5</span>     <span class="token number">18</span><span class="token punctuation">:</span><span class="token number">04</span>            <span class="token number">987</span> news_item<span class="token punctuation">.</span>html
<span class="token operator">-</span>a<span class="token operator">--</span><span class="token operator">--</span>         <span class="token number">2017</span><span class="token operator">/</span><span class="token number">9</span><span class="token operator">/</span><span class="token number">5</span>     <span class="token number">18</span><span class="token punctuation">:</span><span class="token number">04</span>           <span class="token number">1134</span> operate<span class="token punctuation">.</span>html
<span class="token operator">-</span>a<span class="token operator">--</span><span class="token operator">--</span>         <span class="token number">2017</span><span class="token operator">/</span><span class="token number">9</span><span class="token operator">/</span><span class="token number">5</span>     <span class="token number">18</span><span class="token punctuation">:</span><span class="token number">04</span>           <span class="token number">1255</span> product<span class="token punctuation">.</span>html
<span class="token operator">-</span>a<span class="token operator">--</span><span class="token operator">--</span>         <span class="token number">2017</span><span class="token operator">/</span><span class="token number">9</span><span class="token operator">/</span><span class="token number">5</span>     <span class="token number">18</span><span class="token punctuation">:</span><span class="token number">04</span>           <span class="token number">1132</span> schools<span class="token punctuation">.</span>html
</code></pre><p>ç„¶åï¼ŒæŠŠè¿™äº› HTML æ–‡ä»¶åï¼ˆä¸è¦åç¼€ï¼‰éƒ½å†™åœ¨ config.js æ–‡ä»¶ä¸­ï¼Œä»¥ä¾›å–ç”¨ï¼š</p><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    HTMLDirs<span class="token punctuation">:</span><span class="token punctuation">[</span>
        <span class="token string">&quot;index&quot;</span><span class="token punctuation">,</span>
<span class="highlighted-line">            <span class="token string">&quot;company_intro&quot;</span><span class="token punctuation">,</span></span>            <span class="token string">&quot;enterprise_culture&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;hornors&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;news_center&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;news_item&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;product&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;schools&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;operate&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;cooperate&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;join_us&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;contact_us&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;investment&quot;</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
</code></pre><p>HTMLDirs æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå…¶ä¸­ä¿å­˜äº†é¡¹ç›®ä¸­ä¼šç”¨åˆ°çš„æ‰€æœ‰ HTML é¡µé¢ã€‚
æ¥ä¸‹æ¥ï¼Œæ¯ä¸ª HTML é¡µé¢éƒ½å¯¹åº”ä¸€ä»½ JavaScript ä»£ç ï¼Œå› æ­¤åœ¨ js æ–‡ä»¶å¤¹ä¸­å»ºç«‹å¯¹åº”çš„ JavaScript æ–‡ä»¶ï¼š</p><pre class="language-js"><code>Mode                LastWriteTime         Length Name
<span class="token operator">--</span><span class="token operator">--</span>                <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>         <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span> <span class="token operator">--</span><span class="token operator">--</span>
<span class="token operator">-</span>a<span class="token operator">--</span><span class="token operator">--</span>         <span class="token number">2017</span><span class="token operator">/</span><span class="token number">9</span><span class="token operator">/</span><span class="token number">5</span>     <span class="token number">18</span><span class="token punctuation">:</span><span class="token number">04</span>           <span class="token number">2686</span> company_intro<span class="token punctuation">.</span>js
<span class="highlighted-line"><span class="token operator">-</span>a<span class="token operator">--</span><span class="token operator">--</span>         <span class="token number">2017</span><span class="token operator">/</span><span class="token number">9</span><span class="token operator">/</span><span class="token number">5</span>     <span class="token number">18</span><span class="token punctuation">:</span><span class="token number">04</span>            <span class="token number">594</span> contact_us<span class="token punctuation">.</span>js</span><span class="token operator">-</span>a<span class="token operator">--</span><span class="token operator">--</span>         <span class="token number">2017</span><span class="token operator">/</span><span class="token number">9</span><span class="token operator">/</span><span class="token number">5</span>     <span class="token number">18</span><span class="token punctuation">:</span><span class="token number">04</span>           <span class="token number">1725</span> cooperate<span class="token punctuation">.</span>js
<span class="token operator">-</span>a<span class="token operator">--</span><span class="token operator">--</span>         <span class="token number">2017</span><span class="token operator">/</span><span class="token number">9</span><span class="token operator">/</span><span class="token number">8</span>     <span class="token number">16</span><span class="token punctuation">:</span><span class="token number">54</span>           <span class="token number">3505</span> enterprise_culture<span class="token punctuation">.</span>js
<span class="token operator">-</span>a<span class="token operator">--</span><span class="token operator">--</span>         <span class="token number">2017</span><span class="token operator">/</span><span class="token number">9</span><span class="token operator">/</span><span class="token number">5</span>     <span class="token number">18</span><span class="token punctuation">:</span><span class="token number">04</span>           <span class="token number">2208</span> hornors<span class="token punctuation">.</span>js
<span class="token operator">-</span>a<span class="token operator">--</span><span class="token operator">--</span>         <span class="token number">2017</span><span class="token operator">/</span><span class="token number">9</span><span class="token operator">/</span><span class="token number">8</span>     <span class="token number">16</span><span class="token punctuation">:</span><span class="token number">54</span>           <span class="token number">4491</span> index<span class="token punctuation">.</span>js
<span class="token operator">-</span>a<span class="token operator">--</span><span class="token operator">--</span>         <span class="token number">2017</span><span class="token operator">/</span><span class="token number">9</span><span class="token operator">/</span><span class="token number">5</span>     <span class="token number">18</span><span class="token punctuation">:</span><span class="token number">04</span>           <span class="token number">3180</span> investment<span class="token punctuation">.</span>js
<span class="token operator">-</span>a<span class="token operator">--</span><span class="token operator">--</span>         <span class="token number">2017</span><span class="token operator">/</span><span class="token number">9</span><span class="token operator">/</span><span class="token number">5</span>     <span class="token number">18</span><span class="token punctuation">:</span><span class="token number">04</span>           <span class="token number">1327</span> join_us<span class="token punctuation">.</span>js
<span class="token operator">-</span>a<span class="token operator">--</span><span class="token operator">--</span>         <span class="token number">2017</span><span class="token operator">/</span><span class="token number">9</span><span class="token operator">/</span><span class="token number">8</span>     <span class="token number">16</span><span class="token punctuation">:</span><span class="token number">55</span>           <span class="token number">3689</span> news_center<span class="token punctuation">.</span>js
<span class="token operator">-</span>a<span class="token operator">--</span><span class="token operator">--</span>         <span class="token number">2017</span><span class="token operator">/</span><span class="token number">9</span><span class="token operator">/</span><span class="token number">5</span>     <span class="token number">18</span><span class="token punctuation">:</span><span class="token number">04</span>           <span class="token number">1972</span> news_item<span class="token punctuation">.</span>js
<span class="token operator">-</span>a<span class="token operator">--</span><span class="token operator">--</span>         <span class="token number">2017</span><span class="token operator">/</span><span class="token number">9</span><span class="token operator">/</span><span class="token number">5</span>     <span class="token number">18</span><span class="token punctuation">:</span><span class="token number">04</span>           <span class="token number">2728</span> operate<span class="token punctuation">.</span>js
<span class="token operator">-</span>a<span class="token operator">--</span><span class="token operator">--</span>         <span class="token number">2017</span><span class="token operator">/</span><span class="token number">9</span><span class="token operator">/</span><span class="token number">5</span>     <span class="token number">18</span><span class="token punctuation">:</span><span class="token number">04</span>           <span class="token number">2664</span> product<span class="token punctuation">.</span>js
<span class="token operator">-</span>a<span class="token operator">--</span><span class="token operator">--</span>         <span class="token number">2017</span><span class="token operator">/</span><span class="token number">9</span><span class="token operator">/</span><span class="token number">5</span>     <span class="token number">18</span><span class="token punctuation">:</span><span class="token number">04</span>           <span class="token number">2476</span> schools<span class="token punctuation">.</span>js
</code></pre><p>è¿™ä¸¤é¡¹æ˜¯å¿…é¡»çš„ï¼Œåªæœ‰æä¾›äº†æ¯ä¸ªé¡µé¢çš„ HTML æ–‡ä»¶å’Œå¯¹åº”çš„ JavaScript æ–‡ä»¶ï¼Œæ‰èƒ½æ„å»ºå¤šé¡µé¢åº”ç”¨ã€‚
åŒæ—¶ï¼Œå¯èƒ½æ¯ä¸ªé¡µé¢éƒ½æœ‰è‡ªå·±çš„æ ·å¼ï¼Œå› æ­¤æ‚¨ä¹Ÿå¯ä»¥åœ¨ css æ–‡ä»¶å¤¹ä¸­å»ºç«‹ä¸€äº›æ ·å¼æ–‡ä»¶ï¼š</p><pre class="language-js"><code>Mode                LastWriteTime         Length Name
<span class="token operator">--</span><span class="token operator">--</span>                <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>         <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span> <span class="token operator">--</span><span class="token operator">--</span>
<span class="token operator">-</span>a<span class="token operator">--</span><span class="token operator">--</span>         <span class="token number">2017</span><span class="token operator">/</span><span class="token number">9</span><span class="token operator">/</span><span class="token number">5</span>     <span class="token number">18</span><span class="token punctuation">:</span><span class="token number">04</span>            <span class="token number">419</span> company_intro<span class="token punctuation">.</span>css
<span class="highlighted-line"><span class="token operator">-</span>a<span class="token operator">--</span><span class="token operator">--</span>         <span class="token number">2017</span><span class="token operator">/</span><span class="token number">9</span><span class="token operator">/</span><span class="token number">5</span>     <span class="token number">18</span><span class="token punctuation">:</span><span class="token number">04</span>            <span class="token number">167</span> contact_us<span class="token punctuation">.</span>css</span><span class="token operator">-</span>a<span class="token operator">--</span><span class="token operator">--</span>         <span class="token number">2017</span><span class="token operator">/</span><span class="token number">9</span><span class="token operator">/</span><span class="token number">5</span>     <span class="token number">18</span><span class="token punctuation">:</span><span class="token number">04</span>            <span class="token number">214</span> cooperate<span class="token punctuation">.</span>css
<span class="token operator">-</span>a<span class="token operator">--</span><span class="token operator">--</span>         <span class="token number">2017</span><span class="token operator">/</span><span class="token number">9</span><span class="token operator">/</span><span class="token number">5</span>     <span class="token number">18</span><span class="token punctuation">:</span><span class="token number">04</span>            <span class="token number">926</span> enterprise_culture<span class="token punctuation">.</span>css
<span class="token operator">-</span>a<span class="token operator">--</span><span class="token operator">--</span>         <span class="token number">2017</span><span class="token operator">/</span><span class="token number">9</span><span class="token operator">/</span><span class="token number">5</span>     <span class="token number">18</span><span class="token punctuation">:</span><span class="token number">04</span>            <span class="token number">255</span> hornors<span class="token punctuation">.</span>css
<span class="token operator">-</span>a<span class="token operator">--</span><span class="token operator">--</span>         <span class="token number">2017</span><span class="token operator">/</span><span class="token number">9</span><span class="token operator">/</span><span class="token number">5</span>     <span class="token number">18</span><span class="token punctuation">:</span><span class="token number">04</span>            <span class="token number">693</span> investment<span class="token punctuation">.</span>css
<span class="token operator">-</span>a<span class="token operator">--</span><span class="token operator">--</span>         <span class="token number">2017</span><span class="token operator">/</span><span class="token number">9</span><span class="token operator">/</span><span class="token number">5</span>     <span class="token number">18</span><span class="token punctuation">:</span><span class="token number">04</span>            <span class="token number">136</span> join_us<span class="token punctuation">.</span>css
<span class="token operator">-</span>a<span class="token operator">--</span><span class="token operator">--</span>         <span class="token number">2017</span><span class="token operator">/</span><span class="token number">9</span><span class="token operator">/</span><span class="token number">5</span>     <span class="token number">18</span><span class="token punctuation">:</span><span class="token number">04</span>            <span class="token number">541</span> news_center<span class="token punctuation">.</span>css
<span class="token operator">-</span>a<span class="token operator">--</span><span class="token operator">--</span>         <span class="token number">2017</span><span class="token operator">/</span><span class="token number">9</span><span class="token operator">/</span><span class="token number">5</span>     <span class="token number">18</span><span class="token punctuation">:</span><span class="token number">04</span>            <span class="token number">623</span> news_item<span class="token punctuation">.</span>css
<span class="token operator">-</span>a<span class="token operator">--</span><span class="token operator">--</span>         <span class="token number">2017</span><span class="token operator">/</span><span class="token number">9</span><span class="token operator">/</span><span class="token number">5</span>     <span class="token number">18</span><span class="token punctuation">:</span><span class="token number">04</span>            <span class="token number">342</span> operate<span class="token punctuation">.</span>css
<span class="token operator">-</span>a<span class="token operator">--</span><span class="token operator">--</span>         <span class="token number">2017</span><span class="token operator">/</span><span class="token number">9</span><span class="token operator">/</span><span class="token number">5</span>     <span class="token number">18</span><span class="token punctuation">:</span><span class="token number">04</span>            <span class="token number">236</span> product<span class="token punctuation">.</span>css
<span class="token operator">-</span>a<span class="token operator">--</span><span class="token operator">--</span>         <span class="token number">2017</span><span class="token operator">/</span><span class="token number">9</span><span class="token operator">/</span><span class="token number">5</span>     <span class="token number">18</span><span class="token punctuation">:</span><span class="token number">04</span>            <span class="token number">213</span> schools<span class="token punctuation">.</span>css
</code></pre><p>å…³äºå»ºç«‹æ ·å¼è¿™ä¸€é¡¹ï¼Œä¸æ˜¯å¿…é¡»çš„ã€‚
æœ€åï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ html-webpack-plugin è¿™ä¸ªæ’ä»¶æ¥è‡ªåŠ¨ç”Ÿæˆ HTML æ–‡ä»¶äº†ï¼Œhtml-webpack-plugin æ’ä»¶çš„ç”¨æ³•å¦‚ä¸‹ï¼š</p><pre class="language-js"><code><span class="token comment">// å¼•å…¥æ’ä»¶</span>
<span class="token keyword">const</span> HTMLWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;html-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// å¼•å…¥å¤šé¡µé¢æ–‡ä»¶åˆ—è¡¨</span>
<span class="highlighted-line"><span class="token keyword">const</span> <span class="token punctuation">{</span> HTMLDirs <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./config&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="token comment">// é€šè¿‡ html-webpack-plugin ç”Ÿæˆçš„ HTML é›†åˆ</span>
<span class="token keyword">let</span> HTMLPlugins <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// å…¥å£æ–‡ä»¶é›†åˆ</span>
<span class="token keyword">let</span> Entries <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment">// ç”Ÿæˆå¤šé¡µé¢çš„é›†åˆ</span>
HTMLDirs<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>page<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> htmlPlugin <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HTMLWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        filename<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>page<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.html`</span></span><span class="token punctuation">,</span>
        template<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token template-string"><span class="token string">`../app/html/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>page<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.html`</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        chunks<span class="token punctuation">:</span> <span class="token punctuation">[</span>page<span class="token punctuation">,</span> <span class="token string">'commons'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    HTMLPlugins<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>htmlPlugin<span class="token punctuation">)</span><span class="token punctuation">;</span>
    Entries<span class="token punctuation">[</span>page<span class="token punctuation">]</span> <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token template-string"><span class="token string">`../app/js/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>page<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.js`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œé¦–å…ˆå¼•å…¥äº†æ‰€éœ€çš„æ’ä»¶å’Œå˜é‡ï¼Œç„¶ååˆ©ç”¨ html-webpack-plugin å¾ªç¯ç”Ÿæˆ HTML é¡µé¢ã€‚
ç®€å•è¯´ä¸‹ HTMLWebpackPlugin æ„é€ å‡½æ•°çš„å‡ ä¸ªå‚æ•°ï¼š</p><p>filenameï¼šç”Ÿæˆçš„ HTML æ–‡ä»¶åï¼Œæˆ‘è¿™é‡Œé€‰æ‹©å’ŒåŸå§‹æ–‡ä»¶åä¿æŒä¸€è‡´
templateï¼šç”Ÿæˆ HTML æ–‡ä»¶ä½¿ç”¨çš„æ¨¡æ¿ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ä¹‹å‰åœ¨ html æ–‡ä»¶å¤¹ä¸­å»ºç«‹çš„é‚£äº›æ–‡ä»¶
chunksï¼šç”Ÿæˆ HTML æ–‡ä»¶æ—¶ä¼šè‡ªåŠ¨æ’å…¥ç›¸åº”çš„ä»£ç ç‰‡æ®µï¼ˆä¹Ÿå°±æ˜¯ JavaScript æ–‡ä»¶ï¼‰ï¼Œæˆ‘è¿™é‡Œé€‰æ‹©æ’å…¥æ¯ä¸ªé¡µé¢å¯¹åº”çš„ JavaScript æ–‡ä»¶ï¼Œä»¥åŠæœ€åæå–å‡ºæ¥çš„å…¬å…±æ–‡ä»¶ä»£ç å—ã€‚
å…³äº chunks è¿˜éœ€è¦è¯´æ˜ä¸€ç‚¹ï¼Œchunks æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œåœ¨ç”Ÿæˆ HTML æ–‡ä»¶æ—¶ä¼šå°†æ•°ç»„ä¸­çš„å¯¹åº”çš„ JavaScript ç‰‡æ®µè‡ªåŠ¨æ’å…¥åˆ° HTML ä¸­ï¼Œè¿™äº›ç‰‡æ®µä¹Ÿå°±æ˜¯ webpack æ‰“åŒ…æ—¶çš„ output é€‰é¡¹ä¸­çš„ [name]ã€‚è¿™é‡Œåªéœ€è¦å†™ä¸Š [name] å€¼å°±è¡Œäº†ï¼Œæ— éœ€ä½¿ç”¨æ‰“åŒ…ç”Ÿæˆçš„å®Œæ•´åç§°ï¼Œå› ä¸ºè¿™ä¼šè¿˜æ²¡å¼€å§‹æ‰“åŒ…å‘¢ï¼Œæ‰“åŒ…åç”Ÿæˆçš„åç§°å’±ä¹Ÿä¸çŸ¥é“ã€‚
æœ€åï¼Œæˆ‘ä»¬æŠŠè¿™äº›ç”Ÿæˆ HTML æ–‡ä»¶çš„é…ç½®æ’å…¥åˆ° HTMLPlugins è¿™ä¸ªæ•°ç»„ä¸­ï¼ŒåŒæ—¶è®¾ç½® webpack çš„å…¥å£æ–‡ä»¶ã€‚</p><h2 id="ç›®å½•åˆ’åˆ†"><a href="#ç›®å½•åˆ’åˆ†" aria-hidden="true" class="header-anchor">#</a> ç›®å½•åˆ’åˆ†</h2><p>åœ¨è¿™ä¸ªè„šæ‰‹æ¶ä¸­ï¼Œæˆ‘æ˜¯è¿™æ ·åˆ’åˆ†é¡¹ç›®ç»“æ„çš„ï¼š</p><pre class="language-js"><code>    â”œâ”€app
    â”‚  â”œâ”€css
    â”‚  â”œâ”€html
<span class="highlighted-line">    â”‚  â”œâ”€img</span>    â”‚  â”œâ”€js
    â”‚  â””â”€lib
    â”œâ”€config
    â””â”€dist
        â”œâ”€css
        â”œâ”€img
        â””â”€js
    å…¶ä¸­ app æ˜¯é¡¹ç›®çš„æºç ï¼Œconfig æ˜¯ webpack ç›¸å…³çš„ä¸€äº›é…ç½®æ–‡ä»¶ï¼Œdist æ˜¯å­˜æ”¾æ‰“åŒ…åçš„æ–‡ä»¶ï¼Œæ˜¯ç”± webpack è‡ªåŠ¨ç”Ÿæˆçš„ã€‚
    æ›´è¯¦ç»†çš„æ–‡ä»¶ç»“æ„å¦‚ä¸‹ï¼š

    â”‚  <span class="token punctuation">.</span>babelrc
    â”‚  <span class="token punctuation">.</span>eslintrc<span class="token punctuation">.</span>js
    â”‚  <span class="token punctuation">.</span>gitignore
    â”‚  <span class="token keyword">package</span><span class="token punctuation">.</span>json
    â”‚  postcss<span class="token punctuation">.</span>config<span class="token punctuation">.</span>js
    â”‚  webpack<span class="token punctuation">.</span>config<span class="token punctuation">.</span>js
    â”‚  
    â”œâ”€app
    â”‚  â”‚  favicon<span class="token punctuation">.</span>ico
    â”‚  â”‚  
    â”‚  â”œâ”€css
    â”‚  â”‚      main<span class="token punctuation">.</span>css
    â”‚  â”‚      
    â”‚  â”œâ”€html
    â”‚  â”‚      index<span class="token punctuation">.</span>html
    â”‚  â”‚    
    â”‚  â”‚      
    â”‚  â”œâ”€img
    â”‚  â”‚      back<span class="token punctuation">.</span>png
    â”‚  â”‚      
    â”‚  â”œâ”€js
    â”‚  â”‚      ajax<span class="token punctuation">.</span>js
    â”‚  â”‚      footer<span class="token punctuation">.</span>js
    â”‚  â”‚      index<span class="token punctuation">.</span>js
    â”‚  â”‚      nav<span class="token punctuation">.</span>js
    â”‚  â”‚      <span class="token keyword">public</span><span class="token punctuation">.</span>js
    â”‚  â”‚      tity_nav<span class="token punctuation">.</span>js
    â”‚  â”‚      
    â”‚  â””â”€lib
    â”‚        flexible<span class="token punctuation">.</span>js
    â”‚        normalize<span class="token punctuation">.</span>css
    â”‚        swiper<span class="token punctuation">.</span>css
    â”‚        swiper<span class="token punctuation">.</span>js
    â”‚        
    â””â”€config
            config<span class="token punctuation">.</span>js
            webpack<span class="token punctuation">.</span>config<span class="token punctuation">.</span>base<span class="token punctuation">.</span>js
            webpack<span class="token punctuation">.</span>config<span class="token punctuation">.</span>dev<span class="token punctuation">.</span>js
            webpack<span class="token punctuation">.</span>config<span class="token punctuation">.</span>lint<span class="token punctuation">.</span>js
            webpack<span class="token punctuation">.</span>config<span class="token punctuation">.</span>prod<span class="token punctuation">.</span>js

</code></pre><h2 id="package-json"><a href="#package-json" aria-hidden="true" class="header-anchor">#</a> package.json</h2><p>æ‰€æœ‰çš„åŠŸèƒ½éƒ½æ˜¯ä» package.json çš„ scripts å…¥å£å¼€å§‹æ‰§è¡Œçš„ï¼Œæˆ‘æƒ³è¦è„šæ‰‹æ¶æœ‰ä»¥ä¸‹åŠŸèƒ½ï¼š</p><ul><li>å¼€å‘ç¯å¢ƒæ„å»º</li><li>ç”Ÿäº§ç¯å¢ƒæ„å»º</li><li>ESLint ä»£ç æ£€æŸ¥ç¯å¢ƒ</li><li>ç”Ÿäº§ç¯å¢ƒæ„å»ºåçš„æœåŠ¡å™¨é¢„è§ˆç¯å¢ƒ</li><li>åœ¨å¼€å‘æˆ–ä»£ç æ£€æŸ¥ç¯å¢ƒï¼Œéœ€è¦å¯ç”¨ webpack-dev-server å‘½ä»¤ï¼Œç”Ÿäº§ç¯å¢ƒæ„å»ºéœ€è¦å¯ç”¨ webpack å‘½ä»¤ï¼Œé¢„è§ˆç¯å¢ƒéœ€è¦å¯ç”¨ http-server ç¯å¢ƒã€‚</li><li>ä¸Šæ–‡ä»‹ç»æ—¶æŠŠ http-server ç»™è½ä¸‹äº†ï¼Œæ‚¨ç°åœ¨å¯ä»¥è¿›è¡Œå¦‚ä¸‹å®‰è£…ï¼š</li></ul><pre class="language-js"><code>npm install http<span class="token operator">-</span>server <span class="token operator">--</span>save<span class="token operator">-</span>dev
</code></pre><p>scripts å‘½ä»¤è¡Œé…ç½®å¦‚ä¸‹ï¼š</p><pre class="language-js"><code>  <span class="token string">&quot;scripts&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;dev&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;set NODE_ENV=dev &amp;&amp; webpack-dev-server --open&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;build&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;set NODE_ENV=prod &amp;&amp; webpack -p&quot;</span><span class="token punctuation">,</span>
<span class="highlighted-line">    <span class="token string">&quot;lint&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;set NODE_ENV=lint &amp;&amp; webpack-dev-server --open&quot;</span><span class="token punctuation">,</span></span>    <span class="token string">&quot;serve&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;http-server ./dist -p 8888 -o&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;serve2&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;http-server ./dist -p 8888&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><p>ä¸‹é¢æ˜¯æ•´ä¸ª package.json æ–‡ä»¶ï¼š</p><pre class="language-js"><code><span class="token punctuation">{</span>
    <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;xxx&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;version&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>
<span class="highlighted-line">    <span class="token string">&quot;description&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span></span>    <span class="token string">&quot;main&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;index.js&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;scripts&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;dev&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;set NODE_ENV=dev &amp;&amp; webpack-dev-server --open&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;build&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;set NODE_ENV=prod &amp;&amp; webpack -p&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;lint&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;set NODE_ENV=lint &amp;&amp; webpack-dev-server --open&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;serve&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;http-server ./dist -p 8888 -o&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;serve2&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;http-server ./dist -p 8888&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">&quot;author&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;license&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;ISC&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;devDependencies&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;autoprefixer&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^7.1.3&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;babel-core&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^6.26.0&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;babel-loader&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^7.1.2&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;babel-plugin-transform-es2015-spread&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^6.22.0&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;babel-preset-env&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^1.6.0&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;clean-webpack-plugin&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^0.1.16&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^0.28.7&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;eslint&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^4.5.0&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;eslint-loader&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^1.9.0&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;extract-text-webpack-plugin&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^3.0.0&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;file-loader&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^0.11.2&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;html-webpack-plugin&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^2.30.1&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;http-server&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^0.10.0&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;postcss-loader&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^2.0.6&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;style-loader&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^0.18.2&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;url-loader&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^0.5.9&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;webpack&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^3.5.5&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;webpack-dev-server&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^2.7.1&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;webpack-merge&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^4.1.0&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">&quot;dependencies&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><h2 id="å¯ç”¨ç¯å¢ƒ"><a href="#å¯ç”¨ç¯å¢ƒ" aria-hidden="true" class="header-anchor">#</a> å¯ç”¨ç¯å¢ƒ</h2><p>å¦‚æœæ‚¨æƒ³å¯ç”¨æŸä¸ªç¯å¢ƒï¼Œéœ€è¦ä½¿ç”¨ npm run xxx å‘½ä»¤ï¼š</p><ul><li>npm run devï¼šè¿›å…¥å¼€å‘ç¯å¢ƒ</li><li>npm run buildï¼šè¿›å…¥ç”Ÿäº§ç¯å¢ƒ</li><li>npm run lintï¼šæ‰§è¡Œä»£ç æ£€æŸ¥</li><li>npm run serveï¼šæœåŠ¡å™¨ç¯å¢ƒä¸‹é¢„è§ˆï¼ˆæ‰“å¼€æµè§ˆå™¨ï¼‰</li><li>npm run serve2ï¼šæœåŠ¡å™¨ç¯å¢ƒä¸‹é¢„è§ˆï¼ˆä¸æ‰“å¼€æµè§ˆå™¨ï¼‰
é»˜è®¤æƒ…å†µä¸‹ï¼Œä½¿ç”¨è¿™äº›å‘½ä»¤éƒ½ä¼šå…ˆå¼•å…¥å’Œ package.js åŒç›®å½•ä¸‹çš„ webpack.config.js æ–‡ä»¶ã€‚ç”±äºæˆ‘ä»¬ä¸ä¼šå°†æ‰€æœ‰çš„é…ç½®éƒ½æ”¾åœ¨ webpack.config.js ä¸­ï¼Œè€Œæ˜¯è¿‡ç¯å¢ƒå˜é‡è¿›è¡ŒåŒºåˆ†ï¼Œåœ¨ webpack.config.js ä¸­å¼•ç”¨å…¶ä»–çš„é…ç½®æ–‡ä»¶ã€‚
è®¾ç½®ç¯å¢ƒå˜é‡é‡‡ç”¨çš„è¯­æ³•ï¼š</li></ul><p>set NODE_ENV=xxx
è¿™é‡Œæˆ‘ä»¬ä¸ºå¼€å‘ã€ç”Ÿäº§ã€ä»£ç æ£€æŸ¥å’Œé¢„è§ˆè¿™å‡ ä¸ªç¯å¢ƒè®¾ç½®äº†ç¯å¢ƒå˜é‡ã€‚</p><ul><li><p>webpack.config.js</p></li><li><p>webpack.config.js æ–‡ä»¶æ¯”è¾ƒç®€å•ï¼Œåªæœ‰ä¸¤è¡Œä»£ç ï¼Œå…¶ä½œç”¨å°±æ˜¯ç”¨æ¥å¼•ç”¨å…¶ä»–çš„é…ç½®æ–‡ä»¶ï¼š</p></li></ul><pre class="language-js"><code><span class="token comment">// è·å–ç¯å¢ƒå‘½ä»¤ï¼Œå¹¶å»é™¤é¦–å°¾ç©ºæ ¼</span>
<span class="token keyword">const</span> env <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/(\s*$)|(^\s*)/ig</span><span class="token punctuation">,</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// æ ¹æ®ç¯å¢ƒå˜é‡å¼•ç”¨ç›¸å…³çš„é…ç½®æ–‡ä»¶</span>
<span class="highlighted-line">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`./config/webpack.config.</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>env<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.js`</span></span><span class="token punctuation">)</span></span>webpack<span class="token punctuation">.</span>config<span class="token punctuation">.</span>base<span class="token punctuation">.</span>js
</code></pre><p>webpack.config.base.js æ˜¯æœ€åŸºç¡€çš„é…ç½®æ–‡ä»¶ï¼ŒåŒ…å«äº†è¿™äº›ç¯å¢ƒéƒ½å¯èƒ½ä½¿ç”¨åˆ°çš„é…ç½®ã€‚</p><h4 id="_1ï¼‰ç›¸å…³æ’ä»¶å¼•å…¥"><a href="#_1ï¼‰ç›¸å…³æ’ä»¶å¼•å…¥" aria-hidden="true" class="header-anchor">#</a> 1ï¼‰ç›¸å…³æ’ä»¶å¼•å…¥</h4><hr><pre class="language-js"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// å¼•å…¥æ’ä»¶</span>
<span class="token keyword">const</span> HTMLWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;html-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="highlighted-line"><span class="token comment">// æ¸…ç† dist æ–‡ä»¶å¤¹</span></span><span class="token keyword">const</span> CleanWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;clean-webpack-plugin&quot;</span><span class="token punctuation">)</span>
<span class="token comment">// æŠ½å– css</span>
<span class="token keyword">const</span> ExtractTextPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;extract-text-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
#### <span class="token number">2</span>ï¼‰è‡ªåŠ¨ç”Ÿæˆ <span class="token constant">HTML</span> çš„é…ç½®

<span class="token comment">// å¼•å…¥å¤šé¡µé¢æ–‡ä»¶åˆ—è¡¨</span>
<span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./config&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// é€šè¿‡ html-webpack-plugin ç”Ÿæˆçš„ HTML é›†åˆ</span>
<span class="token keyword">let</span> HTMLPlugins <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// å…¥å£æ–‡ä»¶é›†åˆ</span>
<span class="token keyword">let</span> Entries <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment">// ç”Ÿæˆå¤šé¡µé¢çš„é›†åˆ</span>
config<span class="token punctuation">.</span>HTMLDirs<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>page<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> htmlPlugin <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HTMLWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        filename<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>page<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.html`</span></span><span class="token punctuation">,</span>
        template<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token template-string"><span class="token string">`../app/html/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>page<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.html`</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        chunks<span class="token punctuation">:</span> <span class="token punctuation">[</span>page<span class="token punctuation">,</span> <span class="token string">'commons'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    HTMLPlugins<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>htmlPlugin<span class="token punctuation">)</span><span class="token punctuation">;</span>
    Entries<span class="token punctuation">[</span>page<span class="token punctuation">]</span> <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token template-string"><span class="token string">`../app/js/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>page<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.js`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><h4 id="_3ï¼‰ä¸»é…ç½®æ–‡ä»¶ä¸€è§ˆ"><a href="#_3ï¼‰ä¸»é…ç½®æ–‡ä»¶ä¸€è§ˆ" aria-hidden="true" class="header-anchor">#</a> 3ï¼‰ä¸»é…ç½®æ–‡ä»¶ä¸€è§ˆ</h4><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// å…¥å£æ–‡ä»¶</span>
    entry<span class="token punctuation">:</span>Entries<span class="token punctuation">,</span>
<span class="highlighted-line">    <span class="token comment">// å¯ç”¨ sourceMap</span></span>    devtool<span class="token punctuation">:</span><span class="token string">&quot;cheap-module-source-map&quot;</span><span class="token punctuation">,</span>
    <span class="token comment">// è¾“å‡ºæ–‡ä»¶</span>
    output<span class="token punctuation">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// åŠ è½½å™¨</span>
    module<span class="token punctuation">:</span><span class="token punctuation">{</span>
        rules<span class="token punctuation">:</span><span class="token punctuation">[</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// æ’ä»¶</span>
    plugins<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><h4 id="_4ï¼‰é…ç½®-css-åŠ è½½å™¨"><a href="#_4ï¼‰é…ç½®-css-åŠ è½½å™¨" aria-hidden="true" class="header-anchor">#</a> 4ï¼‰é…ç½® css åŠ è½½å™¨</h4><pre class="language-js"><code><span class="token punctuation">{</span>
    <span class="token comment">// å¯¹ css åç¼€åè¿›è¡Œå¤„ç†</span>
    test<span class="token punctuation">:</span><span class="token regex">/\.css$/</span><span class="token punctuation">,</span>
<span class="highlighted-line">    <span class="token comment">// ä¸å¤„ç† node_modules æ–‡ä»¶ä¸­çš„ css æ–‡ä»¶</span></span>    exclude<span class="token punctuation">:</span> <span class="token regex">/node_modules/</span><span class="token punctuation">,</span>
    <span class="token comment">// æŠ½å– css æ–‡ä»¶åˆ°å•ç‹¬çš„æ–‡ä»¶å¤¹</span>
    use<span class="token punctuation">:</span> ExtractTextPlugin<span class="token punctuation">.</span><span class="token function">extract</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        fallback<span class="token punctuation">:</span> <span class="token string">&quot;style-loader&quot;</span><span class="token punctuation">,</span>
        <span class="token comment">// è®¾ç½® css çš„ publicPath</span>
        publicPath<span class="token punctuation">:</span> config<span class="token punctuation">.</span>cssPublicPath<span class="token punctuation">,</span>
        use<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
                loader<span class="token punctuation">:</span><span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">,</span>
                options<span class="token punctuation">:</span><span class="token punctuation">{</span>
                    <span class="token comment">// å¼€å¯ css å‹ç¼©</span>
                    minimize<span class="token punctuation">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                loader<span class="token punctuation">:</span><span class="token string">&quot;postcss-loader&quot;</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><p>è¿™é‡Œæœ‰ä¸¤ç‚¹éœ€è¦è¯´æ˜ï¼š
A.publicPathï¼šåœ¨ css ä¸­è®¾ç½®èƒŒæ™¯å›¾åƒçš„ url æ—¶ï¼Œç»å¸¸ä¼šæ‰¾ä¸åˆ°å›¾ç‰‡ï¼ˆé»˜è®¤ä¼šåœ¨ css æ–‡ä»¶æ‰€åœ¨çš„æ–‡ä»¶å¤¹ä¸­å¯»æ‰¾ï¼‰ï¼Œè¿™é‡Œè®¾ç½® extract-text-webpack-plugin æ’ä»¶çš„ publicPath ä¸ºå›¾ç‰‡æ–‡ä»¶å¤¹æ‰€åœ¨çš„ç›®å½•ï¼Œå°±å¯ä»¥é¡ºåˆ©æ‰¾åˆ°å›¾ç‰‡äº†ã€‚
åœ¨ config.js ä¸­ï¼Œè®¾ç½® cssPublicPath çš„å€¼ï¼š</p><p>cssPublicPath:&quot;../&quot;
B.postcss æˆ‘ä¸»è¦ç”¨æ¥è‡ªåŠ¨æ·»åŠ  css å‰ç¼€ä»¥åŠä¸€ç‚¹ç¾åŒ–æ“ä½œï¼Œåœ¨ä½¿ç”¨ postcss æ—¶ï¼Œéœ€è¦åœ¨ postcss.config.js ä¸­è¿›è¡Œé…ç½®ï¼š</p><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>  
    plugins<span class="token punctuation">:</span> <span class="token punctuation">{</span>  
    <span class="token string">'autoprefixer'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
<span class="highlighted-line">        browsers<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'last 5 version'</span><span class="token punctuation">,</span><span class="token string">'Android &gt;= 4.0'</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>        <span class="token comment">//æ˜¯å¦ç¾åŒ–å±æ€§å€¼ é»˜è®¤ï¼štrue </span>
        cascade<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token comment">//æ˜¯å¦å»æ‰ä¸å¿…è¦çš„å‰ç¼€ é»˜è®¤ï¼štrue </span>
        remove<span class="token punctuation">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>  
    <span class="token punctuation">}</span>  
<span class="token punctuation">}</span>  
</code></pre><h4 id="_5ï¼‰é…ç½®-js-åŠ è½½å™¨"><a href="#_5ï¼‰é…ç½®-js-åŠ è½½å™¨" aria-hidden="true" class="header-anchor">#</a> 5ï¼‰é…ç½® js åŠ è½½å™¨</h4><p>js åŠ è½½å™¨çš„é…ç½®å¦‚ä¸‹ï¼š</p><pre class="language-js"><code><span class="token punctuation">{</span>
    test<span class="token punctuation">:</span> <span class="token regex">/\.js$/</span><span class="token punctuation">,</span>
    exclude<span class="token punctuation">:</span> <span class="token regex">/node_modules/</span><span class="token punctuation">,</span>
<span class="highlighted-line">    use<span class="token punctuation">:</span> <span class="token punctuation">{</span></span>        loader<span class="token punctuation">:</span> <span class="token string">'babel-loader'</span><span class="token punctuation">,</span>
        options<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            presets<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'env'</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><h4 id="_6ï¼‰é…ç½®å›¾ç‰‡åŠ è½½å™¨"><a href="#_6ï¼‰é…ç½®å›¾ç‰‡åŠ è½½å™¨" aria-hidden="true" class="header-anchor">#</a> 6ï¼‰é…ç½®å›¾ç‰‡åŠ è½½å™¨</h4><p>å›¾ç‰‡åŠ è½½å™¨çš„é…ç½®å¦‚ä¸‹ï¼š</p><pre class="language-js"><code><span class="token punctuation">{</span>
    test<span class="token punctuation">:</span> <span class="token regex">/\.(png|svg|jpg|gif)$/</span><span class="token punctuation">,</span>
    use<span class="token punctuation">:</span><span class="token punctuation">{</span>
<span class="highlighted-line">        loader<span class="token punctuation">:</span><span class="token string">&quot;file-loader&quot;</span><span class="token punctuation">,</span></span>        options<span class="token punctuation">:</span><span class="token punctuation">{</span>
            <span class="token comment">// æ‰“åŒ…ç”Ÿæˆå›¾ç‰‡çš„åå­—</span>
            name<span class="token punctuation">:</span><span class="token string">&quot;[name].[ext]&quot;</span><span class="token punctuation">,</span>
            <span class="token comment">// å›¾ç‰‡çš„ç”Ÿæˆè·¯å¾„</span>
            outputPath<span class="token punctuation">:</span>config<span class="token punctuation">.</span>imgOutputPath
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><p>outputPath è§„å®šäº†è¾“å‡ºå›¾ç‰‡çš„ä½ç½®ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œå›¾ç‰‡åœ¨æ‰“åŒ…æ—¶ä¼šå’Œæ‰€æœ‰çš„ HTML/CSS/JS æ–‡ä»¶æ‰“åŒ…åˆ°ä¸€èµ·ï¼Œé€šè¿‡è®¾ç½® outputPath å€¼å¯ä»¥å°†æ‰€æœ‰çš„å›¾ç‰‡éƒ½æ‰“åŒ…åˆ°ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ä¸­ã€‚
è®¾ç½® config.js çš„ imgOutputPathï¼š</p><p>imgOutputPath:&quot;img/&quot;,
åœ¨æ‰“åŒ…æ—¶ï¼Œä¼šå°†æ‰€æœ‰çš„å›¾ç‰‡æ‰“åŒ…åˆ° dist æ–‡ä»¶å¤¹ä¸‹çš„ img æ–‡ä»¶å¤¹ä¸­ã€‚</p><h4 id="_7ï¼‰é…ç½®è‡ªå®šä¹‰å­—ä½“åŠ è½½å™¨"><a href="#_7ï¼‰é…ç½®è‡ªå®šä¹‰å­—ä½“åŠ è½½å™¨" aria-hidden="true" class="header-anchor">#</a> 7ï¼‰é…ç½®è‡ªå®šä¹‰å­—ä½“åŠ è½½å™¨</h4><p>è‡ªå®šä¹‰å­—ä½“åŠ è½½å™¨çš„é…ç½®å¦‚ä¸‹ï¼š</p><pre class="language-js"><code><span class="token punctuation">{</span>
    test<span class="token punctuation">:</span> <span class="token regex">/\.(woff|woff2|eot|ttf|otf)$/</span><span class="token punctuation">,</span>
    use<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">&quot;file-loader&quot;</span><span class="token punctuation">]</span>
<span class="highlighted-line"><span class="token punctuation">}</span></span></code></pre><h4 id="_8ï¼‰æ’ä»¶é…ç½®"><a href="#_8ï¼‰æ’ä»¶é…ç½®" aria-hidden="true" class="header-anchor">#</a> 8ï¼‰æ’ä»¶é…ç½®</h4><p>æ’ä»¶é…ç½®å¦‚ä¸‹ï¼š</p><pre class="language-js"><code>plugins<span class="token punctuation">:</span><span class="token punctuation">[</span>
    <span class="token comment">// è‡ªåŠ¨æ¸…ç† dist æ–‡ä»¶å¤¹</span>
    <span class="token keyword">new</span> <span class="token class-name">CleanWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;dist&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="highlighted-line">    <span class="token comment">// å°† css æŠ½å–åˆ°æŸä¸ªæ–‡ä»¶å¤¹</span></span>    <span class="token keyword">new</span> <span class="token class-name">ExtractTextPlugin</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span>cssOutputPath<span class="token punctuation">)</span><span class="token punctuation">,</span>        
    <span class="token comment">// è‡ªåŠ¨ç”Ÿæˆ HTML æ’ä»¶</span>
    <span class="token operator">...</span>HTMLPlugins
<span class="token punctuation">]</span><span class="token punctuation">,</span>
</code></pre><p>åŒæ‰“åŒ…å›¾ç‰‡ï¼Œåœ¨æŠ½å– css æ—¶ä¹Ÿå¯ä»¥æŒ‡å®šæŠ½å–çš„ç›®å½•ï¼Œåªéœ€å°†è·¯å¾„ä¼ å…¥ extract-text-webpack-plugin æ’ä»¶çš„æ„é€ å‡½æ•°ä¸­ã€‚
é…ç½® config.js çš„ cssOutputPath é€‰é¡¹ï¼š</p><pre class="language-js"><code>cssOutputPath<span class="token punctuation">:</span><span class="token string">&quot;./css/styles.css&quot;</span><span class="token punctuation">,</span>
</code></pre><p>è¿™é‡Œå°†æ‰€æœ‰çš„ css æå–åˆ° dist æ–‡ä»¶å¤¹ä¸‹çš„ css æ–‡ä»¶å¤¹ä¸­ï¼Œå¹¶å‘½åä¸º style.cssã€‚</p><p>webpack.config.base.js è¯¦ç»†é…ç½®</p><p>ä¸‹é¢æ˜¯ webpack.config.base.js çš„è¯¦ç»†é…ç½®æ–‡ä»¶ï¼š</p><pre class="language-js"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// å¼•å…¥æ’ä»¶</span>
<span class="token keyword">const</span> HTMLWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;html-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="highlighted-line"><span class="token comment">// æ¸…ç† dist æ–‡ä»¶å¤¹</span></span><span class="token keyword">const</span> CleanWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;clean-webpack-plugin&quot;</span><span class="token punctuation">)</span>
<span class="token comment">// æŠ½å– css</span>
<span class="token keyword">const</span> ExtractTextPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;extract-text-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// å¼•å…¥å¤šé¡µé¢æ–‡ä»¶åˆ—è¡¨</span>
<span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./config&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// é€šè¿‡ html-webpack-plugin ç”Ÿæˆçš„ HTML é›†åˆ</span>
<span class="token keyword">let</span> HTMLPlugins <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// å…¥å£æ–‡ä»¶é›†åˆ</span>
<span class="token keyword">let</span> Entries <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment">// ç”Ÿæˆå¤šé¡µé¢çš„é›†åˆ</span>
config<span class="token punctuation">.</span>HTMLDirs<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>page<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> htmlPlugin <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HTMLWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        filename<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>page<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.html`</span></span><span class="token punctuation">,</span>
        template<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token template-string"><span class="token string">`../app/html/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>page<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.html`</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        chunks<span class="token punctuation">:</span> <span class="token punctuation">[</span>page<span class="token punctuation">,</span> <span class="token string">'commons'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    HTMLPlugins<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>htmlPlugin<span class="token punctuation">)</span><span class="token punctuation">;</span>
    Entries<span class="token punctuation">[</span>page<span class="token punctuation">]</span> <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token template-string"><span class="token string">`../app/js/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>page<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.js`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    entry<span class="token punctuation">:</span>Entries<span class="token punctuation">,</span>
    devtool<span class="token punctuation">:</span><span class="token string">&quot;cheap-module-source-map&quot;</span><span class="token punctuation">,</span>
    output<span class="token punctuation">:</span><span class="token punctuation">{</span>
        filename<span class="token punctuation">:</span><span class="token string">&quot;js/[name].bundle.[hash].js&quot;</span><span class="token punctuation">,</span>
        path<span class="token punctuation">:</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span><span class="token string">&quot;../dist&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// åŠ è½½å™¨</span>
    module<span class="token punctuation">:</span><span class="token punctuation">{</span>
        rules<span class="token punctuation">:</span><span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token comment">// å¯¹ css åç¼€åè¿›è¡Œå¤„ç†</span>
                test<span class="token punctuation">:</span><span class="token regex">/\.css$/</span><span class="token punctuation">,</span>
                <span class="token comment">// ä¸å¤„ç† node_modules æ–‡ä»¶ä¸­çš„ css æ–‡ä»¶</span>
                exclude<span class="token punctuation">:</span> <span class="token regex">/node_modules/</span><span class="token punctuation">,</span>
                <span class="token comment">// æŠ½å– css æ–‡ä»¶åˆ°å•ç‹¬çš„æ–‡ä»¶å¤¹</span>
                use<span class="token punctuation">:</span> ExtractTextPlugin<span class="token punctuation">.</span><span class="token function">extract</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                    fallback<span class="token punctuation">:</span> <span class="token string">&quot;style-loader&quot;</span><span class="token punctuation">,</span>
                    <span class="token comment">// è®¾ç½® css çš„ publicPath</span>
                    publicPath<span class="token punctuation">:</span> config<span class="token punctuation">.</span>cssPublicPath<span class="token punctuation">,</span>
                    use<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
                            loader<span class="token punctuation">:</span><span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">,</span>
                            options<span class="token punctuation">:</span><span class="token punctuation">{</span>
                                <span class="token comment">// å¼€å¯ css å‹ç¼©</span>
                                minimize<span class="token punctuation">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span><span class="token punctuation">,</span>
                        <span class="token punctuation">{</span>
                            loader<span class="token punctuation">:</span><span class="token string">&quot;postcss-loader&quot;</span><span class="token punctuation">,</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">]</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                test<span class="token punctuation">:</span> <span class="token regex">/\.js$/</span><span class="token punctuation">,</span>
                exclude<span class="token punctuation">:</span> <span class="token regex">/node_modules/</span><span class="token punctuation">,</span>
                use<span class="token punctuation">:</span> <span class="token punctuation">{</span>
                    loader<span class="token punctuation">:</span> <span class="token string">'babel-loader'</span><span class="token punctuation">,</span>
                    options<span class="token punctuation">:</span> <span class="token punctuation">{</span>
                        presets<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'env'</span><span class="token punctuation">]</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                test<span class="token punctuation">:</span> <span class="token regex">/\.(png|svg|jpg|gif)$/</span><span class="token punctuation">,</span>
                use<span class="token punctuation">:</span><span class="token punctuation">{</span>
                    loader<span class="token punctuation">:</span><span class="token string">&quot;file-loader&quot;</span><span class="token punctuation">,</span>
                    options<span class="token punctuation">:</span><span class="token punctuation">{</span>
                        <span class="token comment">// æ‰“åŒ…ç”Ÿæˆå›¾ç‰‡çš„åå­—</span>
                        name<span class="token punctuation">:</span><span class="token string">&quot;[name].[ext]&quot;</span><span class="token punctuation">,</span>
                        <span class="token comment">// å›¾ç‰‡çš„ç”Ÿæˆè·¯å¾„</span>
                        outputPath<span class="token punctuation">:</span>config<span class="token punctuation">.</span>imgOutputPath
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                test<span class="token punctuation">:</span> <span class="token regex">/\.(woff|woff2|eot|ttf|otf)$/</span><span class="token punctuation">,</span>
                use<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">&quot;file-loader&quot;</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    plugins<span class="token punctuation">:</span><span class="token punctuation">[</span>
        <span class="token comment">// è‡ªåŠ¨æ¸…ç† dist æ–‡ä»¶å¤¹</span>
        <span class="token keyword">new</span> <span class="token class-name">CleanWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;dist&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token comment">// å°† css æŠ½å–åˆ°æŸä¸ªæ–‡ä»¶å¤¹</span>
        <span class="token keyword">new</span> <span class="token class-name">ExtractTextPlugin</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span>cssOutputPath<span class="token punctuation">)</span><span class="token punctuation">,</span>        
        <span class="token comment">// è‡ªåŠ¨ç”Ÿæˆ HTML æ’ä»¶</span>
        <span class="token operator">...</span>HTMLPlugins
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><h2 id="webpack-config-dev-js"><a href="#webpack-config-dev-js" aria-hidden="true" class="header-anchor">#</a> webpack.config.dev.js</h2><p>è¿™ä¸ªé…ç½®æ–‡ä»¶ä¸»è¦ç”¨æ¥åœ¨å¼€å‘ç¯å¢ƒä½¿ç”¨ï¼Œéœ€è¦ webpack-dev-server è¿™ä¸ªæ’ä»¶æä¾›æ”¯æŒã€‚è¯¥æ–‡ä»¶çš„é…ç½®å¦‚ä¸‹ï¼š</p><pre class="language-js"><code><span class="token comment">// å¼•å…¥åŸºç¡€é…ç½®æ–‡ä»¶</span>
<span class="token keyword">const</span> webpackBase <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./webpack.config.base&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// å¼•å…¥ webpack-merge æ’ä»¶</span>
<span class="highlighted-line"><span class="token keyword">const</span> webpackMerge <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;webpack-merge&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="token comment">// å¼•å…¥é…ç½®æ–‡ä»¶</span>
<span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./config&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// åˆå¹¶é…ç½®æ–‡ä»¶</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">webpackMerge</span><span class="token punctuation">(</span>webpackBase<span class="token punctuation">,</span><span class="token punctuation">{</span>
    <span class="token comment">// é…ç½® webpack-dev-server</span>
    devServer<span class="token punctuation">:</span><span class="token punctuation">{</span>
        <span class="token comment">// é¡¹ç›®æ ¹ç›®å½•</span>
        contentBase<span class="token punctuation">:</span>config<span class="token punctuation">.</span>devServerOutputPath<span class="token punctuation">,</span>
        <span class="token comment">// é”™è¯¯ã€è­¦å‘Šå±•ç¤ºè®¾ç½®</span>
        overlay<span class="token punctuation">:</span><span class="token punctuation">{</span>
            errors<span class="token punctuation">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
            warnings<span class="token punctuation">:</span><span class="token boolean">true</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p>å…¶ä¸­ï¼Œwebpack-merge è¿™ä¸ªæ’ä»¶ç”¨æ¥å¯¹é…ç½®æ–‡ä»¶è¿›è¡Œåˆå¹¶ï¼Œåœ¨ webpack.config.base.js çš„åŸºç¡€ä¸Šåˆå¹¶æ–°çš„é…ç½®ã€‚
devServer é…ç½®é¡¹çš„ contentBase é¡¹æ˜¯é¡¹ç›®çš„æ ¹ç›®å½•ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬çš„ dist ç›®å½•ï¼ŒåŒºåˆ«åœ¨äºè¿™ä¸ª dist ç›®å½•ä¸æ˜¯ç¡¬ç›˜ä¸Šçš„ dist ç›®å½•ï¼Œè€Œæ˜¯å­˜åœ¨äºå†…å­˜ä¸­çš„ dist ç›®å½•ã€‚åœ¨ä½¿ç”¨ webpack-dev-server æ—¶ï¼Œå°†ä¼šä»¥è¿™ä¸ªå†…å­˜ä¸­çš„ dist ç›®å½•ä½œä¸ºæ ¹ç›®å½•ã€‚
devServer çš„ overlay é€‰é¡¹ä¸­è®¾ç½®äº†å±•ç¤ºé”™è¯¯å’Œè­¦å‘Šï¼Œè¿™æ ·å½“ä»£ç å‘ç”Ÿé”™è¯¯æ—¶ï¼Œä¼šå°†é”™è¯¯ä¿¡æ¯æŠ•å°„åˆ°æµè§ˆå™¨ä¸Šï¼Œæ–¹ä¾¿æˆ‘ä»¬å¼€å‘ã€‚
è¿™é‡Œå°† contentBase æŒ‡å‘äº† config ä¸­çš„ä¸€ä¸ªé…ç½®ï¼š</p><pre class="language-js"><code>devServerOutputPath<span class="token punctuation">:</span><span class="token string">&quot;../dist&quot;</span><span class="token punctuation">,</span>
webpack<span class="token punctuation">.</span>config<span class="token punctuation">.</span>prod<span class="token punctuation">.</span>js
</code></pre><p>è¯¥é…ç½®æ–‡ä»¶ç”¨æ¥åœ¨ç”Ÿäº§ç¯å¢ƒå¯ç”¨ï¼Œä¸»è¦ç”¨æ¥å‹ç¼©ã€åˆå¹¶å’ŒæŠ½å– JavaScript ä»£ç ï¼Œå¹¶å°†é¡¹ç›®æ–‡ä»¶æ‰“åŒ…è‡³ç¡¬ç›˜ä¸Šçš„ dist æ–‡ä»¶å¤¹ä¸­ã€‚</p><pre class="language-js"><code><span class="token comment">// å¼•å…¥åŸºç¡€é…ç½®</span>
<span class="token keyword">const</span> webpackBase <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./webpack.config.base&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// å¼•å…¥ webpack-merge æ’ä»¶</span>
<span class="highlighted-line"><span class="token keyword">const</span> webpackMerge <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;webpack-merge&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="token comment">// å¼•å…¥ webpack</span>
<span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;webpack&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// åˆå¹¶é…ç½®æ–‡ä»¶</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">webpackMerge</span><span class="token punctuation">(</span>webpackBase<span class="token punctuation">,</span><span class="token punctuation">{</span>
    plugins<span class="token punctuation">:</span><span class="token punctuation">[</span>
        <span class="token comment">// ä»£ç å‹ç¼©</span>
        <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>UglifyJsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token comment">// å¼€å¯ sourceMap</span>
            sourceMap<span class="token punctuation">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token comment">// æå–å…¬å…± JavaScript ä»£ç </span>
        <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>CommonsChunkPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token comment">// chunk åä¸º commons</span>
            name<span class="token punctuation">:</span> <span class="token string">&quot;commons&quot;</span><span class="token punctuation">,</span>
            filename<span class="token punctuation">:</span> <span class="token string">&quot;[name].bundle.js&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p>åœ¨æŠ½å–å…¬å…±çš„ JavaScript ä»£ç æ—¶ï¼Œæˆ‘ä»¬å°†å…¬å…±ä»£ç æŠ½å–ä¸º commons.bundle.jsï¼Œè¿™ä¸ªå…¬å…±ä»£ç çš„ chunkï¼ˆnameï¼‰åå°±æ˜¯ commonsï¼Œåœ¨ä½¿ç”¨ html-webpack-plugin è‡ªåŠ¨ç”Ÿæˆ HTML æ–‡ä»¶æ—¶ä¼šå¼•ç”¨è¿™ä¸ª chunkã€‚</p><pre class="language-js"><code>webpack<span class="token punctuation">.</span>config<span class="token punctuation">.</span>lint<span class="token punctuation">.</span>js
</code></pre><p>è¿™é¡¹é…ç½®ç”¨æ¥è¿›è¡Œä»£ç æ£€æŸ¥ï¼Œé…ç½®å¦‚ä¸‹ï¼š</p><pre class="language-js"><code><span class="token keyword">const</span> webpackBase <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./webpack.config.base&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> webpackMerge <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;webpack-merge&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./config&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="highlighted-line">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">webpackMerge</span><span class="token punctuation">(</span>webpackBase<span class="token punctuation">,</span><span class="token punctuation">{</span></span>    module<span class="token punctuation">:</span><span class="token punctuation">{</span>
        rules<span class="token punctuation">:</span><span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                test<span class="token punctuation">:</span> <span class="token regex">/\.js$/</span><span class="token punctuation">,</span>
                <span class="token comment">// å¼ºåˆ¶å…ˆè¿›è¡Œ ESLint æ£€æŸ¥</span>
                enforce<span class="token punctuation">:</span> <span class="token string">&quot;pre&quot;</span><span class="token punctuation">,</span>
                <span class="token comment">// ä¸å¯¹ node_modules å’Œ lib æ–‡ä»¶å¤¹ä¸­çš„ä»£ç è¿›è¡Œæ£€æŸ¥</span>
                exclude<span class="token punctuation">:</span> <span class="token regex">/node_modules|lib/</span><span class="token punctuation">,</span>
                loader<span class="token punctuation">:</span> <span class="token string">&quot;eslint-loader&quot;</span><span class="token punctuation">,</span>
                options<span class="token punctuation">:</span> <span class="token punctuation">{</span>
                    <span class="token comment">// å¯ç”¨è‡ªåŠ¨ä¿®å¤</span>
                    fix<span class="token punctuation">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
                    <span class="token comment">// å¯ç”¨è­¦å‘Šä¿¡æ¯</span>
                    emitWarning<span class="token punctuation">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    devServer<span class="token punctuation">:</span><span class="token punctuation">{</span>
        contentBase<span class="token punctuation">:</span>config<span class="token punctuation">.</span>devServerOutputPath<span class="token punctuation">,</span>
        overlay<span class="token punctuation">:</span><span class="token punctuation">{</span>
            errors<span class="token punctuation">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
            warnings<span class="token punctuation">:</span><span class="token boolean">true</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p>åœ¨ä½¿ç”¨ eslint-loader æ—¶ï¼Œæˆ‘ä»¬è®¾ç½®äº† enforce:&quot;pre&quot; é€‰é¡¹ï¼Œè¿™ä¸ªé€‰é¡¹è¡¨ç¤ºåœ¨å¤„ç† JavaScript ä¹‹å‰å…ˆå¯ç”¨ ESLint ä»£ç æ£€æŸ¥ï¼Œç„¶åå†ä½¿ç”¨ babel ç­‰ loader å¯¹ JavaScript è¿›è¡Œç¼–è¯‘ã€‚
åœ¨ eslint-loader çš„ options é€‰é¡¹ä¸­ï¼Œè®¾ç½®äº†è‡ªåŠ¨ä¿®å¤å’Œå¯ç”¨è­¦å‘Šä¿¡æ¯ï¼Œè¿™æ ·å½“æˆ‘ä»¬çš„ä»£ç å‡ºç°é—®é¢˜æ—¶ï¼ŒESLint ä¼šé¦–å…ˆå°è¯•è‡ªåŠ¨ä¿®å¤ï¼ˆå¦‚å°†åŒå¼•å·æ”¹ä¸ºå•å¼•å·ï¼‰ï¼Œå¯¹äºæ— æ³•è‡ªåŠ¨ä¿®å¤çš„é—®é¢˜ï¼Œå°†ä»¥è­¦å‘Šæˆ–é”™è¯¯çš„ä¿¡æ¯è¿›è¡Œå±•ç¤ºã€‚</p><h2 id="é…ç½®-eslintrc-js"><a href="#é…ç½®-eslintrc-js" aria-hidden="true" class="header-anchor">#</a> é…ç½® .eslintrc.js</h2><p>è¦æƒ³ä½¿ç”¨ ESLint è¿›è¡Œä»£ç æ£€æŸ¥ï¼Œé™¤äº†ä½¿ç”¨ eslint-loader ä¹‹å¤–ï¼Œè¿˜éœ€é’ˆå¯¹ ESLint æœ¬èº«è¿›è¡Œé…ç½®ï¼Œè¿™å°±éœ€è¦ä¸€ä¸ª .eslintrc.js æ–‡ä»¶ã€‚è¯¥æ–‡ä»¶çš„é…ç½®å¦‚ä¸‹ï¼š</p><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    env<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    browser<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="highlighted-line">    commonjs<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>    es6<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    node<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token keyword">extends</span><span class="token punctuation">:</span> <span class="token string">'eslint:recommended'</span><span class="token punctuation">,</span>
    parserOptions<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    sourceType<span class="token punctuation">:</span> <span class="token string">'module'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    rules<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">'comma-dangle'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token string">'always-multiline'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    indent<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">'linebreak-style'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token string">'unix'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    quotes<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token string">'single'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    semi<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token string">'always'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">'no-unused-vars'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'warn'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">'no-console'</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><h2 id="package-json-2"><a href="#package-json-2" aria-hidden="true" class="header-anchor">#</a> package.json</h2><pre class="language-js"><code><span class="token punctuation">{</span>
    <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;xxx&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;version&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>
<span class="highlighted-line">    <span class="token string">&quot;description&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span></span>    <span class="token string">&quot;main&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;index.js&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;scripts&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;dev&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;set NODE_ENV=dev &amp;&amp; webpack-dev-server --open&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;build&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;set NODE_ENV=prod &amp;&amp; webpack -p&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;lint&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;set NODE_ENV=lint &amp;&amp; webpack-dev-server --open&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;serve&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;http-server ./dist -p 8888 -o&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;serve2&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;http-server ./dist -p 8888&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">&quot;author&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;license&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;ISC&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;devDependencies&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;autoprefixer&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^7.1.3&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;babel-core&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^6.26.0&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;babel-loader&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^7.1.2&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;babel-plugin-transform-es2015-spread&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^6.22.0&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;babel-preset-env&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^1.6.0&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;clean-webpack-plugin&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^0.1.16&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^0.28.7&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;eslint&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^4.5.0&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;eslint-loader&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^1.9.0&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;extract-text-webpack-plugin&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^3.0.0&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;file-loader&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^0.11.2&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;html-webpack-plugin&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^2.30.1&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;http-server&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^0.10.0&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;postcss-loader&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^2.0.6&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;style-loader&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^0.18.2&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;url-loader&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^0.5.9&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;webpack&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^3.5.5&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;webpack-dev-server&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^2.7.1&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;webpack-merge&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^4.1.0&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">&quot;dependencies&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><h2 id="gitignore"><a href="#gitignore" aria-hidden="true" class="header-anchor">#</a> .gitignore</h2><pre class="language-js"><code>node_modules
dist
npm<span class="token operator">-</span>debug<span class="token punctuation">.</span>log
<span class="highlighted-line"></span><span class="token punctuation">.</span>babelrc

<span class="token punctuation">{</span>
    <span class="token string">&quot;plugins&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;transform-es2015-spread&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><h2 id="eslintrc-js"><a href="#eslintrc-js" aria-hidden="true" class="header-anchor">#</a> .eslintrc.js</h2><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    env<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    browser<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="highlighted-line">    commonjs<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>    es6<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    node<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token keyword">extends</span><span class="token punctuation">:</span> <span class="token string">'eslint:recommended'</span><span class="token punctuation">,</span>
    parserOptions<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    sourceType<span class="token punctuation">:</span> <span class="token string">'module'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    rules<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">'comma-dangle'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token string">'always-multiline'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    indent<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">'linebreak-style'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token string">'unix'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    quotes<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token string">'single'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    semi<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token string">'always'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">'no-unused-vars'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'warn'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">'no-console'</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><h2 id="postcss-config-js"><a href="#postcss-config-js" aria-hidden="true" class="header-anchor">#</a> postcss.config.js</h2><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>  
    plugins<span class="token punctuation">:</span> <span class="token punctuation">{</span>  
    <span class="token string">'autoprefixer'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
<span class="highlighted-line">        browsers<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'last 5 version'</span><span class="token punctuation">,</span><span class="token string">'Android &gt;= 4.0'</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>        <span class="token comment">//æ˜¯å¦ç¾åŒ–å±æ€§å€¼ é»˜è®¤ï¼štrue </span>
        cascade<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token comment">//æ˜¯å¦å»æ‰ä¸å¿…è¦çš„å‰ç¼€ é»˜è®¤ï¼štrue </span>
        remove<span class="token punctuation">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>  
    <span class="token punctuation">}</span>  
<span class="token punctuation">}</span> 
</code></pre><h2 id="config-js"><a href="#config-js" aria-hidden="true" class="header-anchor">#</a> config.js</h2><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    HTMLDirs<span class="token punctuation">:</span><span class="token punctuation">[</span>
        <span class="token string">&quot;index&quot;</span><span class="token punctuation">,</span>
<span class="highlighted-line">        <span class="token string">&quot;company_intro&quot;</span><span class="token punctuation">,</span></span>        <span class="token string">&quot;enterprise_culture&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;hornors&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;news_center&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;news_item&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;product&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;schools&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;operate&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;cooperate&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;join_us&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;contact_us&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;investment&quot;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    cssPublicPath<span class="token punctuation">:</span><span class="token string">&quot;../&quot;</span><span class="token punctuation">,</span>
    imgOutputPath<span class="token punctuation">:</span><span class="token string">&quot;img/&quot;</span><span class="token punctuation">,</span>
    cssOutputPath<span class="token punctuation">:</span><span class="token string">&quot;./css/styles.css&quot;</span><span class="token punctuation">,</span>
    devServerOutputPath<span class="token punctuation">:</span><span class="token string">&quot;../dist&quot;</span><span class="token punctuation">,</span>

<span class="token punctuation">}</span>
</code></pre><h2 id="webpack-config-js"><a href="#webpack-config-js" aria-hidden="true" class="header-anchor">#</a> webpack.config.js</h2><pre class="language-js"><code><span class="token comment">// è·å–ç¯å¢ƒå‘½ä»¤ï¼Œå¹¶å»é™¤é¦–å°¾ç©ºæ ¼</span>
<span class="token keyword">const</span> env <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/(\s*$)|(^\s*)/ig</span><span class="token punctuation">,</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// æ ¹æ®ç¯å¢ƒå˜é‡å¼•ç”¨ç›¸å…³çš„é…ç½®æ–‡ä»¶</span>
<span class="highlighted-line">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`./config/webpack.config.</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>env<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.js`</span></span><span class="token punctuation">)</span></span>webpack<span class="token punctuation">.</span>config<span class="token punctuation">.</span>base<span class="token punctuation">.</span>js

<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// å¼•å…¥æ’ä»¶</span>
<span class="token keyword">const</span> HTMLWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;html-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// æ¸…ç† dist æ–‡ä»¶å¤¹</span>
<span class="token keyword">const</span> CleanWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;clean-webpack-plugin&quot;</span><span class="token punctuation">)</span>
<span class="token comment">// æŠ½å– css</span>
<span class="token keyword">const</span> ExtractTextPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;extract-text-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// å¼•å…¥å¤šé¡µé¢æ–‡ä»¶åˆ—è¡¨</span>
<span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./config&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// é€šè¿‡ html-webpack-plugin ç”Ÿæˆçš„ HTML é›†åˆ</span>
<span class="token keyword">let</span> HTMLPlugins <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// å…¥å£æ–‡ä»¶é›†åˆ</span>
<span class="token keyword">let</span> Entries <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment">// ç”Ÿæˆå¤šé¡µé¢çš„é›†åˆ</span>
config<span class="token punctuation">.</span>HTMLDirs<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>page<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> htmlPlugin <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HTMLWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        filename<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>page<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.html`</span></span><span class="token punctuation">,</span>
        template<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token template-string"><span class="token string">`../app/html/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>page<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.html`</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        chunks<span class="token punctuation">:</span> <span class="token punctuation">[</span>page<span class="token punctuation">,</span> <span class="token string">'commons'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    HTMLPlugins<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>htmlPlugin<span class="token punctuation">)</span><span class="token punctuation">;</span>
    Entries<span class="token punctuation">[</span>page<span class="token punctuation">]</span> <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token template-string"><span class="token string">`../app/js/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>page<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.js`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    entry<span class="token punctuation">:</span>Entries<span class="token punctuation">,</span>
    devtool<span class="token punctuation">:</span><span class="token string">&quot;cheap-module-source-map&quot;</span><span class="token punctuation">,</span>
    output<span class="token punctuation">:</span><span class="token punctuation">{</span>
        filename<span class="token punctuation">:</span><span class="token string">&quot;js/[name].bundle.[hash].js&quot;</span><span class="token punctuation">,</span>
        path<span class="token punctuation">:</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span><span class="token string">&quot;../dist&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// åŠ è½½å™¨</span>
    module<span class="token punctuation">:</span><span class="token punctuation">{</span>
        rules<span class="token punctuation">:</span><span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token comment">// å¯¹ css åç¼€åè¿›è¡Œå¤„ç†</span>
                test<span class="token punctuation">:</span><span class="token regex">/\.css$/</span><span class="token punctuation">,</span>
                <span class="token comment">// ä¸å¤„ç† node_modules æ–‡ä»¶ä¸­çš„ css æ–‡ä»¶</span>
                exclude<span class="token punctuation">:</span> <span class="token regex">/node_modules/</span><span class="token punctuation">,</span>
                <span class="token comment">// æŠ½å– css æ–‡ä»¶åˆ°å•ç‹¬çš„æ–‡ä»¶å¤¹</span>
                use<span class="token punctuation">:</span> ExtractTextPlugin<span class="token punctuation">.</span><span class="token function">extract</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                    fallback<span class="token punctuation">:</span> <span class="token string">&quot;style-loader&quot;</span><span class="token punctuation">,</span>
                    <span class="token comment">// è®¾ç½® css çš„ publicPath</span>
                    publicPath<span class="token punctuation">:</span> config<span class="token punctuation">.</span>cssPublicPath<span class="token punctuation">,</span>
                    use<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
                            loader<span class="token punctuation">:</span><span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">,</span>
                            options<span class="token punctuation">:</span><span class="token punctuation">{</span>
                                <span class="token comment">// å¼€å¯ css å‹ç¼©</span>
                                minimize<span class="token punctuation">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span><span class="token punctuation">,</span>
                        <span class="token punctuation">{</span>
                            loader<span class="token punctuation">:</span><span class="token string">&quot;postcss-loader&quot;</span><span class="token punctuation">,</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">]</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                test<span class="token punctuation">:</span> <span class="token regex">/\.js$/</span><span class="token punctuation">,</span>
                exclude<span class="token punctuation">:</span> <span class="token regex">/node_modules/</span><span class="token punctuation">,</span>
                use<span class="token punctuation">:</span> <span class="token punctuation">{</span>
                    loader<span class="token punctuation">:</span> <span class="token string">'babel-loader'</span><span class="token punctuation">,</span>
                    options<span class="token punctuation">:</span> <span class="token punctuation">{</span>
                        presets<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'env'</span><span class="token punctuation">]</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                test<span class="token punctuation">:</span> <span class="token regex">/\.(png|svg|jpg|gif)$/</span><span class="token punctuation">,</span>
                use<span class="token punctuation">:</span><span class="token punctuation">{</span>
                    loader<span class="token punctuation">:</span><span class="token string">&quot;file-loader&quot;</span><span class="token punctuation">,</span>
                    options<span class="token punctuation">:</span><span class="token punctuation">{</span>
                        <span class="token comment">// æ‰“åŒ…ç”Ÿæˆå›¾ç‰‡çš„åå­—</span>
                        name<span class="token punctuation">:</span><span class="token string">&quot;[name].[ext]&quot;</span><span class="token punctuation">,</span>
                        <span class="token comment">// å›¾ç‰‡çš„ç”Ÿæˆè·¯å¾„</span>
                        outputPath<span class="token punctuation">:</span>config<span class="token punctuation">.</span>imgOutputPath
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                test<span class="token punctuation">:</span> <span class="token regex">/\.(woff|woff2|eot|ttf|otf)$/</span><span class="token punctuation">,</span>
                use<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">&quot;file-loader&quot;</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    plugins<span class="token punctuation">:</span><span class="token punctuation">[</span>
        <span class="token comment">// è‡ªåŠ¨æ¸…ç† dist æ–‡ä»¶å¤¹</span>
        <span class="token keyword">new</span> <span class="token class-name">CleanWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;dist&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token comment">// å°† css æŠ½å–åˆ°æŸä¸ªæ–‡ä»¶å¤¹</span>
        <span class="token keyword">new</span> <span class="token class-name">ExtractTextPlugin</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span>cssOutputPath<span class="token punctuation">)</span><span class="token punctuation">,</span>        
        <span class="token comment">// è‡ªåŠ¨ç”Ÿæˆ HTML æ’ä»¶</span>
        <span class="token operator">...</span>HTMLPlugins
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><h2 id="webpack-config-dev-js-2"><a href="#webpack-config-dev-js-2" aria-hidden="true" class="header-anchor">#</a> webpack.config.dev.js</h2><pre class="language-js"><code><span class="token comment">// å¼•å…¥åŸºç¡€é…ç½®æ–‡ä»¶</span>
<span class="token keyword">const</span> webpackBase <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./webpack.config.base&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// å¼•å…¥ webpack-merge æ’ä»¶</span>
<span class="highlighted-line"><span class="token keyword">const</span> webpackMerge <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;webpack-merge&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="token comment">// å¼•å…¥é…ç½®æ–‡ä»¶</span>
<span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./config&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// åˆå¹¶é…ç½®æ–‡ä»¶</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">webpackMerge</span><span class="token punctuation">(</span>webpackBase<span class="token punctuation">,</span><span class="token punctuation">{</span>
    <span class="token comment">// é…ç½® webpack-dev-server</span>
    devServer<span class="token punctuation">:</span><span class="token punctuation">{</span>
        <span class="token comment">// é¡¹ç›®æ ¹ç›®å½•</span>
        contentBase<span class="token punctuation">:</span>config<span class="token punctuation">.</span>devServerOutputPath<span class="token punctuation">,</span>
        <span class="token comment">// é”™è¯¯ã€è­¦å‘Šå±•ç¤ºè®¾ç½®</span>
        overlay<span class="token punctuation">:</span><span class="token punctuation">{</span>
            errors<span class="token punctuation">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
            warnings<span class="token punctuation">:</span><span class="token boolean">true</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><h2 id="webpack-config-prod-js"><a href="#webpack-config-prod-js" aria-hidden="true" class="header-anchor">#</a> webpack.config.prod.js</h2><pre class="language-js"><code><span class="token comment">// å¼•å…¥åŸºç¡€é…ç½®</span>
<span class="token keyword">const</span> webpackBase <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./webpack.config.base&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// å¼•å…¥ webpack-merge æ’ä»¶</span>
<span class="highlighted-line"><span class="token keyword">const</span> webpackMerge <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;webpack-merge&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="token comment">// å¼•å…¥ webpack</span>
<span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;webpack&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// åˆå¹¶é…ç½®æ–‡ä»¶</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">webpackMerge</span><span class="token punctuation">(</span>webpackBase<span class="token punctuation">,</span><span class="token punctuation">{</span>
    plugins<span class="token punctuation">:</span><span class="token punctuation">[</span>
        <span class="token comment">// ä»£ç å‹ç¼©</span>
        <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>UglifyJsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token comment">// å¼€å¯ sourceMap</span>
            sourceMap<span class="token punctuation">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token comment">// æå–å…¬å…± JavaScript ä»£ç </span>
        <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>CommonsChunkPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token comment">// chunk åä¸º commons</span>
            name<span class="token punctuation">:</span> <span class="token string">&quot;commons&quot;</span><span class="token punctuation">,</span>
            filename<span class="token punctuation">:</span> <span class="token string">&quot;[name].bundle.js&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><h2 id="webpack-config-lint-js"><a href="#webpack-config-lint-js" aria-hidden="true" class="header-anchor">#</a> webpack.config.lint.js</h2><pre class="language-js"><code><span class="token keyword">const</span> webpackBase <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./webpack.config.base&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> webpackMerge <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;webpack-merge&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./config&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="highlighted-line">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">webpackMerge</span><span class="token punctuation">(</span>webpackBase<span class="token punctuation">,</span><span class="token punctuation">{</span></span>    module<span class="token punctuation">:</span><span class="token punctuation">{</span>
        rules<span class="token punctuation">:</span><span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                test<span class="token punctuation">:</span> <span class="token regex">/\.js$/</span><span class="token punctuation">,</span>
                <span class="token comment">// å¼ºåˆ¶å…ˆè¿›è¡Œ ESLint æ£€æŸ¥</span>
                enforce<span class="token punctuation">:</span> <span class="token string">&quot;pre&quot;</span><span class="token punctuation">,</span>
                <span class="token comment">// ä¸å¯¹ node_modules å’Œ lib æ–‡ä»¶å¤¹ä¸­çš„ä»£ç è¿›è¡Œæ£€æŸ¥</span>
                exclude<span class="token punctuation">:</span> <span class="token regex">/node_modules|lib/</span><span class="token punctuation">,</span>
                loader<span class="token punctuation">:</span> <span class="token string">&quot;eslint-loader&quot;</span><span class="token punctuation">,</span>
                options<span class="token punctuation">:</span> <span class="token punctuation">{</span>
                    <span class="token comment">// å¯ç”¨è‡ªåŠ¨ä¿®å¤</span>
                    fix<span class="token punctuation">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
                    <span class="token comment">// å¯ç”¨è­¦å‘Šä¿¡æ¯</span>
                    emitWarning<span class="token punctuation">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    devServer<span class="token punctuation">:</span><span class="token punctuation">{</span>
        contentBase<span class="token punctuation">:</span>config<span class="token punctuation">.</span>devServerOutputPath<span class="token punctuation">,</span>
        overlay<span class="token punctuation">:</span><span class="token punctuation">{</span>
            errors<span class="token punctuation">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
            warnings<span class="token punctuation">:</span><span class="token boolean">true</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><h2 id="é¡¹ç›®ç»“æ„"><a href="#é¡¹ç›®ç»“æ„" aria-hidden="true" class="header-anchor">#</a> é¡¹ç›®ç»“æ„</h2><pre class="language-js"><code>â”‚  <span class="token punctuation">.</span>babelrc
â”‚  <span class="token punctuation">.</span>eslintrc<span class="token punctuation">.</span>js
â”‚  <span class="token punctuation">.</span>gitignore
<span class="highlighted-line">â”‚  <span class="token keyword">package</span><span class="token punctuation">.</span>json</span>â”‚  postcss<span class="token punctuation">.</span>config<span class="token punctuation">.</span>js
â”‚  webpack<span class="token punctuation">.</span>config<span class="token punctuation">.</span>js
â”‚  
â”œâ”€app
â”‚  â”‚  favicon<span class="token punctuation">.</span>ico
â”‚  â”‚  
â”‚  â”œâ”€css
â”‚  â”‚      main<span class="token punctuation">.</span>css
â”‚  â”‚      
â”‚  â”œâ”€html
â”‚  â”‚      index<span class="token punctuation">.</span>html
â”‚  â”‚    
â”‚  â”‚      
â”‚  â”œâ”€img
â”‚  â”‚      back<span class="token punctuation">.</span>png
â”‚  â”‚      
â”‚  â”œâ”€js
â”‚  â”‚      ajax<span class="token punctuation">.</span>js
â”‚  â”‚      footer<span class="token punctuation">.</span>js
â”‚  â”‚      index<span class="token punctuation">.</span>js
â”‚  â”‚      nav<span class="token punctuation">.</span>js
â”‚  â”‚      <span class="token keyword">public</span><span class="token punctuation">.</span>js
â”‚  â”‚      tity_nav<span class="token punctuation">.</span>js
â”‚  â”‚      
â”‚  â””â”€lib
â”‚        flexible<span class="token punctuation">.</span>js
â”‚        normalize<span class="token punctuation">.</span>css
â”‚        swiper<span class="token punctuation">.</span>css
â”‚        swiper<span class="token punctuation">.</span>js
â”‚        
â””â”€config
        config<span class="token punctuation">.</span>js
        webpack<span class="token punctuation">.</span>config<span class="token punctuation">.</span>base<span class="token punctuation">.</span>js
        webpack<span class="token punctuation">.</span>config<span class="token punctuation">.</span>dev<span class="token punctuation">.</span>js
        webpack<span class="token punctuation">.</span>config<span class="token punctuation">.</span>lint<span class="token punctuation">.</span>js
        webpack<span class="token punctuation">.</span>config<span class="token punctuation">.</span>prod<span class="token punctuation">.</span>js
</code></pre><hr><hr><hr><hr><h2 id="æ³¨é‡Šï¼š"><a href="#æ³¨é‡Šï¼š" aria-hidden="true" class="header-anchor">#</a> æ³¨é‡Šï¼š</h2><h4 id="æƒ³å¼•ç”¨jqueryè€Œä¸æ˜¯æ¯ä¸ªé¡µé¢éƒ½å¼•ç”¨åªéœ€è¦ï¼š"><a href="#æƒ³å¼•ç”¨jqueryè€Œä¸æ˜¯æ¯ä¸ªé¡µé¢éƒ½å¼•ç”¨åªéœ€è¦ï¼š" aria-hidden="true" class="header-anchor">#</a> æƒ³å¼•ç”¨jqueryè€Œä¸æ˜¯æ¯ä¸ªé¡µé¢éƒ½å¼•ç”¨åªéœ€è¦ï¼š</h4><h4 id="å¼•å…¥jqueryåå¦‚æœå¼€å¯lintæ£€æŸ¥æ¨¡å¼-å¯ä»¥æ­£å¸¸ä½¿ç”¨çš„å‰ææ˜¯æ¯ä¸ªé¡µé¢éƒ½require-ä¸€æ¬¡"><a href="#å¼•å…¥jqueryåå¦‚æœå¼€å¯lintæ£€æŸ¥æ¨¡å¼-å¯ä»¥æ­£å¸¸ä½¿ç”¨çš„å‰ææ˜¯æ¯ä¸ªé¡µé¢éƒ½require-ä¸€æ¬¡" aria-hidden="true" class="header-anchor">#</a> å¼•å…¥jqueryåå¦‚æœå¼€å¯lintæ£€æŸ¥æ¨¡å¼ å¯ä»¥æ­£å¸¸ä½¿ç”¨çš„å‰ææ˜¯æ¯ä¸ªé¡µé¢éƒ½require ä¸€æ¬¡</h4><ul><li>webpack.config.base.js</li></ul><pre class="language-js"><code>cnpm i jquery <span class="token operator">--</span>save

<span class="token keyword">const</span> ProvidePlugin <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>ProvidePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
<span class="highlighted-line">    $<span class="token punctuation">:</span> <span class="token string">'jquery'</span><span class="token punctuation">,</span></span>    jQuery<span class="token punctuation">:</span> <span class="token string">'jquery'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre><h4 id="å¼•å…¥sass"><a href="#å¼•å…¥sass" aria-hidden="true" class="header-anchor">#</a> å¼•å…¥sass</h4><ul><li>webpack.config.base.js</li></ul><pre class="language-js"><code><span class="token punctuation">{</span>
    <span class="token comment">// s?css =&gt; scssæˆ–è€…css</span>
    test<span class="token punctuation">:</span><span class="token regex">/\.s?css$/</span><span class="token punctuation">,</span>
<span class="highlighted-line">    <span class="token comment">// ä¸å¤„ç† node_modules æ–‡ä»¶ä¸­çš„ css æ–‡ä»¶</span></span>    exclude<span class="token punctuation">:</span> <span class="token regex">/node_modules/</span><span class="token punctuation">,</span>
    <span class="token comment">// æŠ½å– css æ–‡ä»¶åˆ°å•ç‹¬çš„æ–‡ä»¶å¤¹</span>
    use<span class="token punctuation">:</span> ExtractTextPlugin<span class="token punctuation">.</span><span class="token function">extract</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        fallback<span class="token punctuation">:</span> <span class="token string">&quot;style-loader&quot;</span><span class="token punctuation">,</span>
        <span class="token comment">// è®¾ç½® css çš„ publicPath</span>
        publicPath<span class="token punctuation">:</span> config<span class="token punctuation">.</span>cssPublicPath<span class="token punctuation">,</span><span class="token comment">//åœ¨ css ä¸­è®¾ç½®èƒŒæ™¯å›¾åƒçš„ url æ—¶ï¼Œç»å¸¸ä¼šæ‰¾ä¸åˆ°å›¾ç‰‡ï¼ˆé»˜è®¤ä¼šåœ¨ css æ–‡ä»¶æ‰€åœ¨çš„æ–‡ä»¶å¤¹ä¸­å¯»æ‰¾ï¼‰ï¼Œè¿™é‡Œè®¾ç½® extract-text-webpack-plugin æ’ä»¶çš„ publicPath ä¸ºå›¾ç‰‡æ–‡ä»¶å¤¹æ‰€åœ¨çš„ç›®å½•ï¼Œå°±å¯ä»¥é¡ºåˆ©æ‰¾åˆ°å›¾ç‰‡äº†</span>
        use<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
                loader<span class="token punctuation">:</span><span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">,</span>
                options<span class="token punctuation">:</span><span class="token punctuation">{</span>
                    <span class="token comment">// å¼€å¯ css å‹ç¼©</span>
                    minimize<span class="token punctuation">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                loader<span class="token punctuation">:</span><span class="token string">&quot;postcss-loader&quot;</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                loader<span class="token punctuation">:</span><span class="token string">&quot;sass-loader&quot;</span><span class="token punctuation">,</span> 
                <span class="token comment">//å¯ç”¨sass è™½ç„¶åœ¨è¿™åªå†™äº†sass-loader ä½†è¿˜è¦ä¸‹è½½node-sass</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><h4 id="å¦‚æœimportäº†ç±»ä¼¼swiperè¿™ç§åº“å‡½æ•°-ä½†ä¸å¤„ç†modulesé‡Œé¢çš„swiper-æ‰€ä»¥è¿™é‡Œè¦å…è®¸é™¤äº†node-modulesé‡Œé¢çš„swiperçš„å…¶ä»–æ‰€æœ‰æ–‡ä»¶"><a href="#å¦‚æœimportäº†ç±»ä¼¼swiperè¿™ç§åº“å‡½æ•°-ä½†ä¸å¤„ç†modulesé‡Œé¢çš„swiper-æ‰€ä»¥è¿™é‡Œè¦å…è®¸é™¤äº†node-modulesé‡Œé¢çš„swiperçš„å…¶ä»–æ‰€æœ‰æ–‡ä»¶" aria-hidden="true" class="header-anchor">#</a> å¦‚æœimportäº†ç±»ä¼¼swiperè¿™ç§åº“å‡½æ•° ä½†ä¸å¤„ç†modulesé‡Œé¢çš„swiper,æ‰€ä»¥è¿™é‡Œè¦å…è®¸é™¤äº†node_modulesé‡Œé¢çš„swiperçš„å…¶ä»–æ‰€æœ‰æ–‡ä»¶</h4><ul><li>webpack.config.base.js</li></ul><pre class="language-js"><code><span class="token punctuation">{</span>
    test<span class="token punctuation">:</span> <span class="token regex">/\.js$/</span><span class="token punctuation">,</span>
    exclude<span class="token punctuation">:</span> <span class="token regex">/^node_modules*swiper$/</span><span class="token punctuation">,</span> 
<span class="highlighted-line">    use<span class="token punctuation">:</span> <span class="token punctuation">{</span></span>        loader<span class="token punctuation">:</span> <span class="token string">'babel-loader'</span><span class="token punctuation">,</span>
        options<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            presets<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'env'</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><!----><div class="content page-nav"><p class="inner"><span class="prev">
        â† <a href="/catalog/study/browserify+gulpè‡ªåŠ¨ç¼–è¯‘æ‰“åŒ….html" class="prev">
          â¹ browserify+gulpè‡ªåŠ¨ç¼–è¯‘æ‰“åŒ…
        </a></span><span class="next"><a href="/catalog/study/Markdownç¬”è®°.html">
          â¹ Markdownç¬”è®°
        </a> â†’
      </span></p></div></div></div></div>
    <script src="/assets/js/1.56a7da20.js" defer></script><script src="/assets/js/app.1a1b49cb.js" defer></script>
  </body>
</html>
