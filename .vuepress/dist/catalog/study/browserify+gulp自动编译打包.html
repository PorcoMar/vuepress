<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>PorcoMar Site | ➹ browserify+gulp自动编译打包</title>
    <meta name="description" content="Settle 🍀DUO in a golden house~👺">
    <link rel="shortcut icon" type="image/x-icon" href="https://gitee.com/uploads/6/1023506_PorcoMar.png?1500276509&quot; rel=&quot;shortcut icon">
    
    <link rel="preload" href="/assets/css/10.styles.322416e2.css" as="style"><link rel="preload" href="/assets/js/app.1a1b49cb.js" as="script"><link rel="preload" href="/assets/js/4.84736aa4.js" as="script"><link rel="prefetch" href="/assets/js/5.64c07d37.js"><link rel="prefetch" href="/assets/js/0.c2df6edd.js"><link rel="prefetch" href="/assets/js/1.56a7da20.js"><link rel="prefetch" href="/assets/js/2.3b4709dc.js"><link rel="prefetch" href="/assets/js/3.6f040e9c.js"><link rel="prefetch" href="/assets/js/6.86381ce2.js"><link rel="prefetch" href="/assets/js/7.7bd9e25c.js"><link rel="prefetch" href="/assets/js/8.7c781e0a.js"><link rel="prefetch" href="/assets/js/9.396615f7.js">
    <link rel="stylesheet" href="/assets/css/10.styles.322416e2.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/" class="home-link router-link-active"><!----><span class="site-name">
      PorcoMar Site
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/catalog/study/" class="nav-link router-link-active">Study</a></div><div class="nav-item"><a href="http://www.porcofish.net:1314/" target="_blank" rel="noopener noreferrer" class="nav-link">About</a></div><div class="nav-item"><a href="https://gitee.com/PorcoMar" target="_blank" rel="noopener noreferrer" class="nav-link">Gitee</a></div><div class="nav-item"><a href="https://github.com/PorcoMar?tab=repositories" target="_blank" rel="noopener noreferrer" class="nav-link">Github</a></div><!----></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/catalog/study/" class="nav-link router-link-active">Study</a></div><div class="nav-item"><a href="http://www.porcofish.net:1314/" target="_blank" rel="noopener noreferrer" class="nav-link">About</a></div><div class="nav-item"><a href="https://gitee.com/PorcoMar" target="_blank" rel="noopener noreferrer" class="nav-link">Gitee</a></div><div class="nav-item"><a href="https://github.com/PorcoMar?tab=repositories" target="_blank" rel="noopener noreferrer" class="nav-link">Github</a></div><!----></nav><ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading open"><span>开发笔记</span><span class="arrow down"></span></p><ul class="sidebar-group-items"><li><a href="/catalog/study/" class="sidebar-link">➹ study目录说明</a></li><li><a href="/catalog/study/vuepress使用说明.html" class="sidebar-link">➹ vuePress使用说明</a></li><li><a href="/catalog/study/微信授权和sdk加密算法.html" class="sidebar-link">➹ 微信授权和sdk加密算法</a></li><li><a href="/catalog/study/browserify+gulp自动编译打包.html" class="active sidebar-link">➹ browserify+gulp自动编译打包</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/catalog/study/browserify+gulp自动编译打包.html#➣-使用browserify" class="sidebar-link">➣ 使用browserify</a></li><li class="sidebar-sub-header"><a href="/catalog/study/browserify+gulp自动编译打包.html#➣-单个文件入口下的方法：" class="sidebar-link">➣ 单个文件入口下的方法：</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/catalog/study/browserify+gulp自动编译打包.html#package-json" class="sidebar-link">package.json</a></li><li class="sidebar-sub-header"><a href="/catalog/study/browserify+gulp自动编译打包.html#全局安装gulp" class="sidebar-link">全局安装gulp</a></li><li class="sidebar-sub-header"><a href="/catalog/study/browserify+gulp自动编译打包.html#根目录创建gulpfile" class="sidebar-link">根目录创建gulpfile</a></li><li class="sidebar-sub-header"><a href="/catalog/study/browserify+gulp自动编译打包.html#gulpfile-js" class="sidebar-link">gulpfile.js</a></li><li class="sidebar-sub-header"><a href="/catalog/study/browserify+gulp自动编译打包.html#下载依赖-全部依赖-先梭哈了再说" class="sidebar-link">下载依赖 全部依赖 先梭哈了再说</a></li></ul></li><li class="sidebar-sub-header"><a href="/catalog/study/browserify+gulp自动编译打包.html#➣-多个文件入口下的方法：" class="sidebar-link">➣ 多个文件入口下的方法：</a></li></ul></li><li><a href="/catalog/study/使用webpack配置MPA.html" class="sidebar-link">➹ 使用webpack配置MPA</a></li><li><a href="/catalog/study/Markdown笔记.html" class="sidebar-link">➹ Markdown笔记</a></li><li><a href="/catalog/study/WePY总结.html" class="sidebar-link">➹ WePY总结</a></li></ul></div></li></ul></div><div class="page"><div class="content"><h1 id="browserify-gulp自动编译打包"><a href="#browserify-gulp自动编译打包" aria-hidden="true" class="header-anchor">#</a> browserify+gulp自动编译打包 <img src="https://gss0.bdstatic.com/94o3dSag_xI4khGkpoWK1HF6hhy/baike/w%3D268/sign=92adbbc31fd5ad6eaaf963ecb9ca39a3/79f0f736afc379314ae3062eefc4b74543a91129.jpg"></h1><hr><h2 id="➣-使用browserify"><a href="#➣-使用browserify" aria-hidden="true" class="header-anchor">#</a> ➣ 使用browserify</h2><div class="danger custom-block"><p class="custom-block-title">特性</p><p>可以将 Node 上的模块移植到浏览器上使用，或者说，可以将 CommonJS 规范的模块转换成浏览器认识的模块。</p></div><h1 id="安装"><a href="#安装" aria-hidden="true" class="header-anchor">#</a> 安装</h1><p>全局安装</p><pre class="language-js"><code>npm install browserify <span class="token operator">-</span>g
yarn global add browserify
</code></pre><p>在项目中安装</p><pre class="language-js"><code>npm install browserify <span class="token operator">-</span><span class="token constant">D</span>
yarn add browserify <span class="token operator">-</span><span class="token constant">D</span>
</code></pre><h1 id="使用"><a href="#使用" aria-hidden="true" class="header-anchor">#</a> 使用</h1><p>使用 Browserify 进行转换</p><pre class="language-js"><code>browserify src<span class="token operator">/</span>main<span class="token punctuation">.</span>js <span class="token operator">-</span>o build<span class="token operator">/</span>bundle<span class="token punctuation">.</span>js
</code></pre><p>浏览器模块化</p><pre class="language-js"><code>browserify <span class="token operator">-</span>r <span class="token punctuation">.</span><span class="token operator">/</span>src<span class="token operator">/</span>main<span class="token punctuation">.</span>js<span class="token punctuation">:</span>main <span class="token operator">-</span>r <span class="token punctuation">.</span><span class="token operator">/</span>src<span class="token operator">/</span>test<span class="token punctuation">.</span>js<span class="token punctuation">:</span>custom<span class="token operator">-</span>test <span class="token operator">&gt;</span> build<span class="token operator">/</span>bundle<span class="token punctuation">.</span>js
</code></pre><p>通过 文件名:模块名 指定导出的模块名。
然后可以在浏览器端通过 require 方法导入模块：</p><pre class="language-js"><code><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
    <span class="token keyword">const</span> main <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;main&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> test <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;custom-test&quot;</span><span class="token punctuation">)</span>
<span class="highlighted-line">    <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>    <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><h1 id="gulp-browserify"><a href="#gulp-browserify" aria-hidden="true" class="header-anchor">#</a> gulp + browserify           <img src="http://img0.imgtn.bdimg.com/it/u=2360616365,391938133&fm=27&gp=0.jpg"></h1><hr><h2 id="➣-单个文件入口下的方法："><a href="#➣-单个文件入口下的方法：" aria-hidden="true" class="header-anchor">#</a> ➣ 单个文件入口下的方法：</h2><h3 id="package-json"><a href="#package-json" aria-hidden="true" class="header-anchor">#</a> package.json</h3><pre class="language-js"><code><span class="token punctuation">{</span>
  <span class="token string">&quot;devDependencies&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;babel-core&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^6.26.3&quot;</span><span class="token punctuation">,</span>
<span class="highlighted-line">    <span class="token string">&quot;babel-preset-es2015&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^6.24.1&quot;</span><span class="token punctuation">,</span></span>    <span class="token string">&quot;babelify&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^8.0.0&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;browserify&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^16.2.2&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;css&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^2.2.3&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;debug&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^3.1.0&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;debug-fabulous&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^1.1.0&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;event-stream&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^3.3.4&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;glob&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^7.1.2&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;gulp&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^3.9.1&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;gulp-babel&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^7.0.1&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;gulp-concat&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^2.6.1&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;gulp-connect&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^5.5.0&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;gulp-rename&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^1.2.3&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;gulp-sourcemaps&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^2.6.4&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;gulp-uglify&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^3.0.0&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;gulp-watch&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^5.0.0&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;http-server&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^0.11.1&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;vinyl-buffer&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^1.0.1&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;vinyl-source-stream&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^2.0.0&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;watchify&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^3.11.0&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;porco&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;version&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;main&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;gulpfile.js&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;dependencies&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;jquery&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;^3.3.1&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">&quot;scripts&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;test&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;start&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;http-server -p 8887 -o&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">&quot;author&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;license&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;ISC&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;description&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span>
<span class="token punctuation">}</span>

</code></pre><h3 id="全局安装gulp"><a href="#全局安装gulp" aria-hidden="true" class="header-anchor">#</a> 全局安装gulp</h3><pre class="language-js"><code>npm i gulp <span class="token operator">-</span>g
</code></pre><h3 id="根目录创建gulpfile"><a href="#根目录创建gulpfile" aria-hidden="true" class="header-anchor">#</a> 根目录创建gulpfile</h3><pre class="language-js"><code>touch gulpfile<span class="token punctuation">.</span>js
</code></pre><h3 id="gulpfile-js"><a href="#gulpfile-js" aria-hidden="true" class="header-anchor">#</a> gulpfile.js</h3><pre class="language-js"><code><span class="token keyword">const</span> browserify <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;browserify&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> sourcemaps <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;gulp-sourcemaps&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> source <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'vinyl-source-stream'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="highlighted-line"><span class="token keyword">const</span> buffer <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'vinyl-buffer'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="token keyword">const</span> connect <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'gulp-connect'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> es <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'event-stream'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> rename <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'gulp-rename'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> babelify <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'babelify'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> watchify <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'watchify'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">&quot;browserify&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//合并单个文件 </span>
<span class="token keyword">const</span> boundler <span class="token operator">=</span> <span class="token function">watchify</span><span class="token punctuation">(</span><span class="token function">browserify</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token comment">//监听转化为es5</span>
  entries<span class="token punctuation">:</span> <span class="token string">&quot;./src/entry.js&quot;</span><span class="token punctuation">,</span>
  debug<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token comment">/*告知browserify在运行同时生成内联sourcemap用于调试*/</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">transform</span><span class="token punctuation">(</span>babelify<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">return</span> boundler<span class="token punctuation">.</span><span class="token function">bundle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">source</span><span class="token punctuation">(</span><span class="token string">&quot;bundle.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">buffer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>sourcemaps<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">{</span>loadMaps<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>sourcemaps<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">&quot;./dist&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>connect<span class="token punctuation">.</span><span class="token function">reload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">&quot;watch&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    gulp<span class="token punctuation">.</span><span class="token function">watch</span><span class="token punctuation">(</span><span class="token string">'./src/*.js'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'browserify'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">&quot;server&quot;</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    connect<span class="token punctuation">.</span><span class="token function">server</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        root<span class="token punctuation">:</span><span class="token string">'./'</span><span class="token punctuation">,</span>
        port<span class="token punctuation">:</span><span class="token string">'8008'</span><span class="token punctuation">,</span>
        livereload<span class="token punctuation">:</span><span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">'run'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'browserify'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">'default'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'server'</span><span class="token punctuation">,</span> <span class="token string">'watch'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><h3 id="下载依赖-全部依赖-先梭哈了再说"><a href="#下载依赖-全部依赖-先梭哈了再说" aria-hidden="true" class="header-anchor">#</a> 下载依赖 全部依赖 先梭哈了再说</h3><pre class="language-js"><code>npm i 
<span class="token comment">// 推荐cnpm i</span>
</code></pre><h2 id="➣-多个文件入口下的方法："><a href="#➣-多个文件入口下的方法：" aria-hidden="true" class="header-anchor">#</a> ➣ 多个文件入口下的方法：</h2><pre class="language-js"><code>gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">'browEntrigile'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  <span class="token comment">//合并多个入口文件 到多个地址</span>
<span class="token comment">//定义多个入口文件</span>
    <span class="token keyword">var</span> entityFiles <span class="token operator">=</span> <span class="token punctuation">[</span>
<span class="highlighted-line">        <span class="token string">'./src/entry.js'</span><span class="token punctuation">,</span></span>        <span class="token string">'./src/entry2.js'</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">//遍历映射这些入口文件</span>
    <span class="token keyword">var</span> tasks <span class="token operator">=</span> entityFiles<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>entity<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">watchify</span><span class="token punctuation">(</span><span class="token function">browserify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>entries<span class="token punctuation">:</span> <span class="token punctuation">[</span>entity<span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">transform</span><span class="token punctuation">(</span>babelify<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">bundle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">source</span><span class="token punctuation">(</span>entity<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">rename</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                extname<span class="token punctuation">:</span> <span class="token string">'.bundle.js'</span><span class="token punctuation">,</span>
                dirname<span class="token punctuation">:</span> <span class="token string">''</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">'./build'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>connect<span class="token punctuation">.</span><span class="token function">reload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//创建一个合并流</span>
    <span class="token keyword">return</span> es<span class="token punctuation">.</span>merge<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> tasks<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><h1 id="index-html"><a href="#index-html" aria-hidden="true" class="header-anchor">#</a> index.html</h1><hr><pre class="language-js"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token constant">DOCTYPE</span> html<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>html<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>head<span class="token operator">&gt;</span>
<span class="highlighted-line">    <span class="token operator">&lt;</span>meta charset<span class="token operator">=</span><span class="token string">&quot;UTF-8&quot;</span><span class="token operator">&gt;</span></span>    <span class="token operator">&lt;</span>meta name<span class="token operator">=</span><span class="token string">&quot;viewport&quot;</span> content<span class="token operator">=</span><span class="token string">&quot;width=device-width, initial-scale=1.0&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>meta http<span class="token operator">-</span>equiv<span class="token operator">=</span><span class="token string">&quot;X-UA-Compatible&quot;</span> content<span class="token operator">=</span><span class="token string">&quot;ie=edge&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>title<span class="token operator">&gt;</span>Document<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>style<span class="token operator">&gt;</span>
    	#pp<span class="token punctuation">{</span>position<span class="token punctuation">:</span> relative<span class="token punctuation">;</span>top<span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">;</span>left<span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>p id <span class="token operator">=</span><span class="token string">&quot;pp&quot;</span><span class="token operator">&gt;</span>browserify<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;dist/bundle.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;build/entry2.bundle.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span> <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span>
</code></pre><h1 id="最后-调用"><a href="#最后-调用" aria-hidden="true" class="header-anchor">#</a> :最后 调用</h1><hr><pre class="language-js"><code>npm run start 
</code></pre><p>浏览器自动打开默认端口运行</p></div><!----><div class="content page-nav"><p class="inner"><span class="prev">
        ← <a href="/catalog/study/微信授权和sdk加密算法.html" class="prev">
          ➹ 微信授权和sdk加密算法
        </a></span><span class="next"><a href="/catalog/study/使用webpack配置MPA.html">
          ➹ 使用webpack配置MPA
        </a> →
      </span></p></div></div></div></div>
    <script src="/assets/js/4.84736aa4.js" defer></script><script src="/assets/js/app.1a1b49cb.js" defer></script>
  </body>
</html>
